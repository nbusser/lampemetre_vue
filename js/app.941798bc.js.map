{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/LoadFile.vue?11fb","webpack:///./src/components/Workspace.vue?d497","webpack:///./src/components/HeaderBar.vue?28c8","webpack:///./src/components/Measurement.vue?f003","webpack:///./src/assets/bell.mp3","webpack:///./src/components/TubesList.vue?05e1","webpack:///./src/components/MeasurementsList.vue?3b27","webpack:///./src/App.vue?7892","webpack:///./src/components/HeaderBar.vue?3c14","webpack:///./src/components/Timer.vue?4970","webpack:///./src/Timer.ts","webpack:///./src/components/Timer.vue","webpack:///./src/components/Timer.vue?100c","webpack:///./src/components/SaveLoad.vue?ebe1","webpack:///./src/components/LoadFile.vue?8d35","webpack:///./src/components/LoadFile.vue","webpack:///./src/components/LoadFile.vue?822f","webpack:///./src/model/ModelCapture.ts","webpack:///./src/model/ModelTube.ts","webpack:///./src/SaveLoad.ts","webpack:///./src/MeasurementFunctions.ts","webpack:///./src/ImportExport.ts","webpack:///./src/components/SaveLoad.vue","webpack:///./src/components/SaveLoad.vue?726f","webpack:///./src/components/HeaderBar.vue","webpack:///./src/components/HeaderBar.vue?cb76","webpack:///./src/components/Workspace.vue?e972","webpack:///./src/components/Chart.vue?3ca2","webpack:///./src/components/Chart.vue","webpack:///./src/components/Chart.vue?4d1b","webpack:///./src/components/MeasurementsList.vue?4806","webpack:///./src/components/Measurement.vue?3260","webpack:///./src/components/Measurement.vue","webpack:///./src/components/Measurement.vue?2560","webpack:///./src/components/ModalConfirm.vue?6ac9","webpack:///./src/components/ModalPopup.vue?1b6f","webpack:///./src/components/ModalPopup.vue","webpack:///./src/components/ModalPopup.vue?86ec","webpack:///./src/components/ModalConfirm.vue","webpack:///./src/components/ModalConfirm.vue?b7ac","webpack:///./src/components/ModalPromptNumbers.vue?96ed","webpack:///./src/components/ModalPromptNumbers.vue","webpack:///./src/components/ModalPromptNumbers.vue?871e","webpack:///./src/components/MeasurementsList.vue","webpack:///./src/components/MeasurementsList.vue?5eca","webpack:///./src/components/TubesList.vue?4a95","webpack:///./src/components/Tube.vue?cb16","webpack:///./src/components/Tube.vue","webpack:///./src/components/Tube.vue?16d0","webpack:///./src/components/ModalPromptText.vue?46f3","webpack:///./src/components/ModalPromptText.vue","webpack:///./src/components/ModalPromptText.vue?b35a","webpack:///./src/components/TubesList.vue","webpack:///./src/components/TubesList.vue?290f","webpack:///./src/components/Workspace.vue","webpack:///./src/components/Workspace.vue?b27f","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/Serial.ts","webpack:///./src/CaptureModule.ts","webpack:///./src/store/state.ts","webpack:///./src/store/getters.ts","webpack:///./src/Color.ts","webpack:///./src/ColorStack.ts","webpack:///./src/CaptureJob.ts","webpack:///./src/store/mutations.ts","webpack:///./src/store/actions.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/components/Tube.vue?34e9","webpack:///./src/components/SaveLoad.vue?e4da","webpack:///./src/components/Timer.vue?9e06"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","class","_hoisted_2","ref","role","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","type","_hoisted_8","render","_ctx","_cache","$props","$setup","$data","$options","_component_HeaderBar","_component_Workspace","onErrorTriggered","triggerError","errorSource","errorMessage","_component_SaveLoad","_component_Timer","$event","$emit","timer","this","$store","state","src","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_directive_tooltip","popoverInitialized","isBlinking","title","secondsLeft","style","setPopoverDisplay","onChange","updateInputValid","onKeypress","durationInputKeypressed","onInput","disabled","inputValid","onClick","resetTimer","setInterval","updateTimer","duration","isOver","popover","props","mounted","undefined","$refs","audioBell","load","popoverBtn","popoverContent","sanitize","html","content","show","hide","computed","timerIsOver","play","blinkAnimation","toLocaleString","minimumIntegerDigits","useGrouping","display","methods","durationText","inputDuration","Number","parseInt","res","isNaN","evt","keyCode","btnReset","click","iteration","maxIterations","blinkDuration","Promise","resolve","setTimeout","__exports__","tabindex","_hoisted_15","_component_LoadFile","saveJSON","exportExcel","text","accept","readMethod","iconClass","onFileLoaded","loadJSON","importExcel","clickHandler","fileSelected","ReadMethod","String","emits","input","fileInput","emitError","target","file","files","reader","FileReader","addEventListener","event","hiddenInput","ArrayBuffer","readAsArrayBuffer","Text","Error","readAsText","uAnode","uGrid","iCathode","minSmoothingFactor","maxSmoothingFactor","captures","Map","selectedUgrid","smoothingFactor","values","createdCapture","has","deleteCaptureByUgrid","set","capture","toDelete","delete","newSelectedUgrid","toString","newSmoothingFactor","size","selectedCaptureUgrid","tubes","measurements","notes","frozenTubes","forEach","tube","toJSON","frozenData","saveJson","JSON","stringify","saveName","Date","valueOf","Blob","jsonContent","parse","frozenTube","changeSmoothingFactor","createCapture","changeSelectedUgrid","getSelectedCapture","getClosestIndex","list","refValue","roughPosition","findIndex","Math","abs","getClosestUanode","closestUanodeIndex","capturesSorted","sort","a","b","computeSelectedIcathode","uAnodeMeasurement","gridCapture","parseFloat","toFixed","computeInternalResistance","lowerMean","upperMean","computeTransductance","transductance","iMeasure","calculateTransductance","relativeCapture","captureIndex","cap","computeAmplificationFactor","calculateAmplificationFactor","closestImeasure","amplificationFactor","workbook","creator","created","modified","worksheet","addWorksheet","iter","table","addTable","getCell","address","headerRow","totalsRow","columns","totalsRowLabel","filterButton","totalsRowFunction","rows","addRow","commit","measuresTable","measurementsValues","units","measurement","xlsx","writeBuffer","then","blob","importFromExcel","excelData","wb","eachSheet","getRow","regex","uGridErrorMessage","columnCount","cellValue","foundUGrid","match","eachRow","row","rowNumber","floor","uAnodeCellValue","iCathodeCellValue","parseError","components","LoadFile","events","dispatch","newNotes","e","message","Timer","SaveLoad","_component_Chart","_component_TubesList","_component_MeasurementsList","onAddMeasurement","addMeasurement","onRemoveMeasurement","removeMeasurement","rootHtml","curves","annotations","layout","width","height","shapes","xaxis","titlefont","yaxis","legend","chart","on","xClicked","points","x","refresh","watch","handler","refreshTubes","deep","refreshMeasurements","tubeColor","tubeColors","trace","y","marker","color","measurementColor","measurementsColors","shape","x0","y0","x1","yref","y1","line","dash","_component_Measurement","_component_ModalConfirm","_component_ModalPromptNumbers","promptMeasurementsModal","clearMeasurementsModal","onMeasurementRemoved","body","onConfirmed","clearMeasurements","onModalCreated","onPromptDone","addMeasurements","default","_","scope","setMeasurementColor","measurementResults","setTubeColor","results","isFinite","map","computedTube","stringColor","_component_ModalPopup","onEnterPressed","isEnterKey","$slots","modal","modalDiv","ModalPopup","sendResults","onShow","resetModal","onShown","focusFirstInput","inputs","sign","ref_for","updateInputs","deleteInput","indexInput","$nextTick","lastInput","focus","preventDefault","index","uGrids","filter","prompt0","Measurement","ModalConfirm","ModalPromptNumbers","promptMeasurement","promptedUanode","prompt","uAnodes","_component_Tube","_component_ModalPromptText","newTubeModal","clearTubesModal","onSelectedCaptureChanged","selectCaptureTube","onCaptureRequested","runCapture","onCaptureRemoved","removeCapture","onTubeRemoved","removeTube","onSmoothingFactorChanged","onPendingCaptureCanceled","cancelPendingCapture","onCrashedCaptureRemoved","removeCrashedCapture","clearTubes","createTube","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","setColor","promptCaptureModal","checked","selectedCaptureChanged","defectiveCaptures","retryCrashedCapture","min","max","canChangeSmoothingFactor","pendingCaptures","smoothingFactorChanged","runCaptures","allDefective","concat","crashedCaptures","queue","captureModule","waitingQueue","job","graveyard","log","error","newValue","sendResult","resetInput","focusInput","textInput","Tube","ModalPromptText","addTube","tubeName","Chart","MeasurementsList","TubesList","Workspace","HeaderBar","toast","toastElement","errorToast","payload","SamplingMode","writeByteSerial","serialWriter","Uint8Array","write","readBytesSerial","serialReader","nBytes","readBuffer","read","readBytesSerialWithTimeout","timeout","reject","readBytesSerialPackUint16","uint16Values","val","acquireTensionsAnode","bytesToRead","uAnodeSamples","voltage","round","acquireCurrentCathode","samplingMode","iCathodeSample","samplingMultiplier","AN1","uGridToSend","current","alert","getSerialConnection","navigator","serial","getPorts","ports","serialConnection","filters","usbVendorId","usbProductId","requestPort","open","baudRate","dataBits","stopBits","parity","captureSerial","tensionsAnode","sampling","currentsCathode","performCapture","slidingFactor","readable","getReader","writable","getWriter","captureData","currentsCathodeRaw","epsilon","edge","AN2","cancel","releaseLock","close","k","avg","reduce","prev","curr","serialMutex","queueMutex","jobDone","canceled","logIndex","equals","otherJob","acquire","queueMutexRelease","indexJob","enqueueJob","removeCrashReport","hasBeenCanceled","serialMutexRelease","reportCrash","initInterval","Set","getters","red","green","blue","transparency","colorBible","pastelColorBible","defaultColor","tubeColorStack","measurementsColorStack","mutations","EMPTY_TUBES","clear","ADD_TUBE","pop","REMOVE_TUBE","tubeIndex","flushJobsTube","CREATE_TUBE","CREATE_CAPTURE","foundTube","find","DELETE_CAPTURE","SELECT_CAPTURE_TUBE","CHANGE_SMOOTHING_FACTOR","ADD_MEASUREMENT","add","REMOVE_MEASUREMENT","CLEAR_MEASUREMENTS","CANCEL_PENDING_CAPTURE","cancelJob","REMOVE_CRASHED_CAPTURE","SET_NOTES","actions","context","CREATE_CAPTURE_ASYNC","doCapture","app","App","directive","el","use","store","mount"],"mappings":"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","file":"js/app.941798bc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lampemetre_vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LoadFile.vue?vue&type=style&index=0&id=314612c4&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Workspace.vue?vue&type=style&index=0&id=21fcc49c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./HeaderBar.vue?vue&type=style&index=0&id=6aa529e9&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Measurement.vue?vue&type=style&index=0&id=d222a206&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"media/bell.325fdc52.mp3\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TubesList.vue?vue&type=style&index=0&id=3734bcca&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MeasurementsList.vue?vue&type=style&index=0&id=209cc72e&lang=scss&scoped=true\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"toast-container position-absolute p-3 top-50 end-0 translate-middle-y\" }\nconst _hoisted_2 = {\n  ref: \"errorToast\",\n  class: \"toast\",\n  role: \"alert\",\n  \"data-bs-delay\": \"4000\"\n}\nconst _hoisted_3 = { class: \"toast-header\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", { class: \"text-danger bi bi-exclamation-square-fill rounded me-2\" }, null, -1)\nconst _hoisted_5 = { class: \"me-auto\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"small\", null, \"Erreur\", -1)\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"toast\"\n}, null, -1)\nconst _hoisted_8 = { class: \"toast-body\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_HeaderBar = _resolveComponent(\"HeaderBar\")!\n  const _component_Workspace = _resolveComponent(\"Workspace\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_HeaderBar, { onErrorTriggered: _ctx.triggerError }, null, 8, [\"onErrorTriggered\"]),\n    _createVNode(_component_Workspace),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _hoisted_4,\n          _createElementVNode(\"strong\", _hoisted_5, _toDisplayString(_ctx.errorSource), 1),\n          _hoisted_6,\n          _hoisted_7\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_ctx.errorMessage), 1)\n      ], 512)\n    ])\n  ], 64))\n}","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6aa529e9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"d-flex mb-4 justify-content-between align-items-center\" }\nconst _hoisted_2 = { class: \"d-flex gap-8 justify-content-between align-items-center\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", { class: \"text-light m-0 py-1 px-3\" }, \"Lampemètre\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SaveLoad = _resolveComponent(\"SaveLoad\")!\n  const _component_Timer = _resolveComponent(\"Timer\")!\n\n  return (_openBlock(), _createElementBlock(\"header\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(_component_SaveLoad, {\n        onErrorTriggered: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('errorTriggered', $event)))\n      })\n    ]),\n    _createVNode(_component_Timer, {\n      class: \"timer me-4\",\n      timer: this.$store.state.timer\n    }, null, 8, [\"timer\"])\n  ]))\n}","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toHandlers as _toHandlers, mergeProps as _mergeProps, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/bell.mp3'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2335b224\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"d-inline-block text-center\" }\nconst _hoisted_2 = { ref: \"audioBell\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"source\", {\n  src: _imports_0,\n  type: \"audio/mpeg\"\n}, null, -1))\nconst _hoisted_4 = [\n  _hoisted_3\n]\nconst _hoisted_5 = { class: \"timer_info\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" Minuteur \")\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-stopwatch\" }, null, -1))\nconst _hoisted_8 = [\n  _hoisted_6,\n  _hoisted_7\n]\nconst _hoisted_9 = { class: \"input-group mb-3\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"input-group-text\" }, \" secondes \", -1))\nconst _hoisted_11 = [\"disabled\"]\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\" Reset \")\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-arrow-clockwise\" }, null, -1))\nconst _hoisted_14 = [\n  _hoisted_12,\n  _hoisted_13\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"audio\", _hoisted_2, _hoisted_4, 512),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"button\", _mergeProps({\n        type: \"button\",\n        class: \"btn btn-lg btn-light\",\n        ref: \"popoverBtn\",\n        \"data-bs-placement\": \"bottom\"\n      }, _toHandlers({\n            'shown.bs.popover': () => {this.popoverInitialized = true},\n          })), _hoisted_8, 16),\n      _withDirectives((_openBlock(), _createElementBlock(\"span\", {\n        class: _normalizeClass([\"seconds badge user-select-none\", this.isBlinking ? 'bg-primary' : 'bg-secondary']),\n        ref: \"timerSeconds\",\n        title: \"Tant que le minuteur est actif, les nouvelles captures seront mises en attente.\\n          Activez le pendant le chauffage des lampes\",\n        \"data-bs-toggle\": \"tooltip\",\n        \"data-bs-placement\": \"bottom\"\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.secondsLeft), 1)\n      ], 2)), [\n        [_directive_tooltip]\n      ])\n    ]),\n    _createElementVNode(\"div\", {\n      ref: \"popoverContent\",\n      style: _normalizeStyle(_ctx.setPopoverDisplay)\n    }, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createElementVNode(\"input\", {\n          class: \"form-control\",\n          onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.updateInputValid && _ctx.updateInputValid(...args))),\n          onKeypress: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.durationInputKeypressed && _ctx.durationInputKeypressed(...args))),\n          onInput: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.updateInputValid && _ctx.updateInputValid(...args))),\n          value: \"60\",\n          type: \"text\",\n          ref: \"inputDuration\"\n        }, null, 544),\n        _hoisted_10,\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"btn btn-outline-success\",\n          ref: \"btnReset\",\n          disabled: !_ctx.inputValid,\n          onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.resetTimer && _ctx.resetTimer(...args)))\n        }, _hoisted_14, 8, _hoisted_11)\n      ])\n    ], 4)\n  ]))\n}","/*\nThis class acts as a simple timer\nThe user can use it to know if his lamps are hot enough\n*/\nexport default class Timer {\n  public secondsLeft = 0;\n\n  public initInterval(): void {\n    setInterval(() => {\n      this.updateTimer();\n    }, 1000);\n  }\n\n  public resetTimer(duration: number): void {\n    this.secondsLeft = duration;\n  }\n\n  // Called every second and when initializing Timer class\n  public updateTimer(): void {\n    if (!this.isOver()) {\n      this.secondsLeft -= 1;\n    }\n  }\n\n  public isOver(): boolean {\n    return this.secondsLeft === 0;\n  }\n}\n","\n\nimport Timer from '@/Timer';\nimport { defineComponent } from 'vue';\nimport { Popover } from 'bootstrap';\n\nexport default defineComponent({\n  name: 'Timer',\n  data: () => ({\n    popover: null as Popover | null,\n    popoverInitialized: false as boolean,\n    errorMessage: null as string | null,\n    inputValid: false as boolean,\n    isBlinking: false as boolean,\n  }),\n  props: {\n    timer: Timer,\n  },\n  mounted() {\n    if (this.$refs.audioBell !== undefined) {\n      (this.$refs.audioBell as HTMLAudioElement).load();\n    }\n    this.updateInputValid();\n\n    const popoverBtn = this.$refs.popoverBtn as HTMLButtonElement;\n    const popoverContent = this.$refs.popoverContent as HTMLDivElement;\n    this.popover = new Popover(popoverBtn, {\n      sanitize: false,\n      html: true,\n      content: popoverContent,\n    });\n    // Ugly hacking to force popover to init itself to the right position\n    this.popover.show();\n    this.popover.hide();\n  },\n  computed: {\n    timerIsOver() {\n      return this.timer?.isOver();\n    },\n    secondsLeft() {\n      if (this.timer !== undefined) {\n        if (this.timer.secondsLeft === 0 && this.$refs.audioBell !== undefined) {\n          (this.$refs.audioBell as HTMLAudioElement).play();\n          this.blinkAnimation();\n        }\n        return this.timer.secondsLeft.toLocaleString('fr', {\n          minimumIntegerDigits: 2,\n          useGrouping: false,\n        });\n      }\n      return '';\n    },\n    setPopoverDisplay() {\n      const display = this.popoverInitialized ? '' : 'none';\n      return { display };\n    },\n  },\n  methods: {\n    resetTimer() {\n      if (this.timer !== undefined) {\n        const durationText = (this.$refs.inputDuration as HTMLInputElement).value;\n        const duration = Number.parseInt(durationText, 10);\n        this.timer.resetTimer(duration);\n        this.errorMessage = null;\n\n        (this.popover as Popover).hide();\n      }\n    },\n    updateInputValid() {\n      let res = false;\n      if (this.$refs.inputDuration !== undefined) {\n        const durationText = (this.$refs.inputDuration as HTMLInputElement).value;\n        const duration = Number.parseInt(durationText, 10);\n        res = !Number.isNaN(duration);\n      }\n\n      this.inputValid = res;\n    },\n    durationInputKeypressed(evt: any) {\n      this.updateInputValid();\n      // If enter is pressed, click the button\n      if (evt.keyCode === 13) {\n        (this.$refs.btnReset as HTMLButtonElement).click();\n      }\n    },\n    /*\n     * Makes the timer blinks for few seconds\n     * Couldn't use CSS animations here because bootstraps classes\n     * seems like to override animation defined attributes...\n     */\n    async blinkAnimation(iteration = 0) {\n      const maxIterations = 12;\n      const blinkDuration = 150;\n      await new Promise((resolve) => setTimeout(() => {\n        if (iteration < maxIterations) {\n          if (iteration % 2 === 0) {\n            this.isBlinking = true;\n          } else {\n            this.isBlinking = false;\n          }\n          this.blinkAnimation(iteration + 1);\n        } else {\n          resolve(0);\n        }\n      }, blinkDuration));\n      this.isBlinking = false;\n    },\n  },\n});\n","import { render } from \"./Timer.vue?vue&type=template&id=2335b224&scoped=true&ts=true\"\nimport script from \"./Timer.vue?vue&type=script&lang=ts\"\nexport * from \"./Timer.vue?vue&type=script&lang=ts\"\n\nimport \"./Timer.vue?vue&type=style&index=0&id=2335b224&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2335b224\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-60679c2d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"save_load dropdown\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-light btn-lg dropdown-toggle\",\n  type: \"button\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"data-bs-auto-close\": \"true\"\n}, [\n  /*#__PURE__*/_createTextVNode(\" Projet \"),\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-save\" }),\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi\" })\n], -1))\nconst _hoisted_3 = { class: \"dropdown-menu\" }\nconst _hoisted_4 = { class: \"dropdown-submenu\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"dropdown-item\",\n  tabindex: \"-1\"\n}, \" Sauvegarder \", -1))\nconst _hoisted_6 = { class: \"dropdown-menu\" }\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"JSON (.json) \")\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-filetype-json\" }, null, -1))\nconst _hoisted_9 = [\n  _hoisted_7,\n  _hoisted_8\n]\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"Excel (.xlsx) \")\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-file-excel\" }, null, -1))\nconst _hoisted_12 = [\n  _hoisted_10,\n  _hoisted_11\n]\nconst _hoisted_13 = { class: \"dropdown-submenu\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"dropdown-item\",\n  tabindex: \"-1\"\n}, \" Charger \", -1))\nconst _hoisted_15 = { class: \"dropdown-menu\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_LoadFile = _resolveComponent(\"LoadFile\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"ul\", _hoisted_3, [\n      _createElementVNode(\"li\", _hoisted_4, [\n        _hoisted_5,\n        _createElementVNode(\"ul\", _hoisted_6, [\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"a\", {\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.saveJSON && _ctx.saveJSON(...args))),\n              class: \"dropdown-item\"\n            }, _hoisted_9)\n          ]),\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"a\", {\n              onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.exportExcel && _ctx.exportExcel(...args))),\n              class: \"dropdown-item\"\n            }, _hoisted_12)\n          ])\n        ])\n      ]),\n      _createElementVNode(\"li\", _hoisted_13, [\n        _hoisted_14,\n        _createElementVNode(\"ul\", _hoisted_15, [\n          _createVNode(_component_LoadFile, {\n            text: \"JSON\",\n            accept: \".json\",\n            readMethod: \"text\",\n            iconClass: \"bi bi-filetype-json\",\n            onFileLoaded: _ctx.loadJSON,\n            onErrorTriggered: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('errorTriggered', $event)))\n          }, null, 8, [\"onFileLoaded\"]),\n          _createVNode(_component_LoadFile, {\n            text: \"Excel\",\n            accept: \".xlsx\",\n            readMethod: \"array_buffer\",\n            iconClass: \"bi bi-file-excel\",\n            onFileLoaded: _ctx.importExcel,\n            onErrorTriggered: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('errorTriggered', $event)))\n          }, null, 8, [\"onFileLoaded\"])\n        ])\n      ])\n    ])\n  ]))\n}","import { toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-314612c4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"accept\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"a\", {\n      class: \"dropdown-item\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.clickHandler && _ctx.clickHandler(...args)))\n    }, [\n      _createTextVNode(_toDisplayString(_ctx.text) + \" (\" + _toDisplayString(_ctx.accept) + \") \", 1),\n      (_ctx.iconClass !== undefined)\n        ? (_openBlock(), _createElementBlock(\"i\", {\n            key: 0,\n            class: _normalizeClass([\"bi\", _ctx.iconClass])\n          }, null, 2))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"input\", {\n      class: \"d-none\",\n      type: \"file\",\n      name: \"file\",\n      onChange: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.fileSelected && _ctx.fileSelected(...args))),\n      accept: _ctx.accept,\n      ref: \"fileInput\"\n    }, null, 40, _hoisted_1)\n  ], 64))\n}","\n\n/*\nThis helper handles file loading\nIt is used by both Import and SaveLoad modules\nThese two features are activated by simply clicking a button.\nThis function actually manages an hidden input field used to open the file browser.\nIt then handles the several steps for loading the file and finally runs a callback.\n*/\n\nimport { defineComponent } from 'vue';\n\nenum ReadMethod {\n    ArrayBuffer = 'array_buffer',\n    Text = 'text',\n}\n\nexport default defineComponent({\n  name: 'LoadFile',\n  props: {\n    text: String,\n    accept: String,\n    readMethod: String,\n    iconClass: String,\n  },\n  emits: [\n    'fileLoaded',\n    'errorTriggered',\n  ],\n  methods: {\n    clickHandler() {\n      const input = this.$refs.fileInput as HTMLInputElement;\n      input.click();\n    },\n    emitError() {\n      const errorMessage = 'Une erreur est survenue pendant la lecture du fichier';\n      const errorSource = `Chargement de fichier ${this.$props.text as string}`;\n      this.$emit('errorTriggered', { errorMessage, errorSource });\n    },\n    fileSelected(evt: any) {\n      if (evt.target === null) {\n        this.emitError();\n        return;\n      }\n\n      // Selected file object\n      const file = evt.target.files[0];\n\n      // Reads the selected file\n      const reader = new FileReader();\n\n      // Triggered when the file reader finished to read the file\n      reader.addEventListener('load', (event) => {\n        if (event.target === null\n              || event.target.result === null) {\n          this.emitError();\n          return;\n        }\n        // Resets input field\n        // eslint-disable-next-line no-param-reassign\n        const hiddenInput = this.$refs.fileInput as HTMLInputElement;\n        hiddenInput.value = '';\n\n        // If no error, sends the opened file to the callback\n        this.$emit('fileLoaded', event.target.result);\n      });\n\n      // Reads the file using the appropriate method\n      if (this.readMethod === ReadMethod.ArrayBuffer) {\n        reader.readAsArrayBuffer(file);\n      } else if (this.readMethod === ReadMethod.Text) {\n        reader.readAsText(file);\n      } else {\n        this.emitError();\n        throw Error('No read method given as prop');\n      }\n    },\n  },\n});\n\n","import { render } from \"./LoadFile.vue?vue&type=template&id=314612c4&scoped=true&ts=true\"\nimport script from \"./LoadFile.vue?vue&type=script&lang=ts\"\nexport * from \"./LoadFile.vue?vue&type=script&lang=ts\"\n\nimport \"./LoadFile.vue?vue&type=style&index=0&id=314612c4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-314612c4\"]])\n\nexport default __exports__","export default class ModelCapture {\n  public uAnode: number[];\n\n  public uGrid: number;\n\n  public iCathode: number[];\n\n  constructor(uAnode: number[], uGrid: number, iCathode: number[]) {\n    this.uAnode = uAnode;\n    this.uGrid = uGrid;\n    this.iCathode = iCathode;\n  }\n\n  toString(): string {\n    return `-${this.uGrid}V`;\n  }\n}\n","import ModelCapture from '@/model/ModelCapture';\nimport { FrozenTube } from './FrozenData';\n\nexport const minSmoothingFactor = 0;\nexport const maxSmoothingFactor = 10;\n\nexport default class ModelTube {\n  public name: string;\n\n  public captures: Map<number, ModelCapture> = new Map();\n\n  public selectedUgrid: number | null = null;\n\n  public smoothingFactor = 4;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n\n  createCapture(uAnode: number[], uGrid: number, values: number[]): void {\n    const createdCapture = new ModelCapture(uAnode, uGrid, values);\n\n    if (this.captures.has(uGrid)) {\n      this.deleteCaptureByUgrid(uGrid);\n    }\n\n    this.captures.set(uGrid, createdCapture);\n  }\n\n  deleteCapture(capture: ModelCapture): void {\n    this.deleteCaptureByUgrid(capture.uGrid);\n  }\n\n  deleteCaptureByUgrid(uGrid: number): void {\n    const toDelete = this.captures.get(uGrid);\n\n    if (toDelete === undefined) {\n      throw Error(`Capture for tension grid ${uGrid} does not belong to tube ${this.name}`);\n    }\n    this.captures.delete(uGrid);\n\n    if (uGrid === this.selectedUgrid) {\n      this.selectedUgrid = null;\n    }\n  }\n\n  changeSelectedUgrid(newSelectedUgrid: number): void {\n    if (!this.captures.has(newSelectedUgrid)) {\n      throw Error(`No capture ${newSelectedUgrid.toString()} for tube ${this.name}`);\n    }\n    this.selectedUgrid = newSelectedUgrid;\n  }\n\n  changeSmoothingFactor(newSmoothingFactor: number): void {\n    if (newSmoothingFactor < minSmoothingFactor || newSmoothingFactor > maxSmoothingFactor) {\n      throw Error(`Smoothing factor must be between ${minSmoothingFactor} and ${maxSmoothingFactor}`);\n    }\n    if (this.captures.size > 0) {\n      throw Error('Smoothing factor can only be changed if no capture is registered');\n    }\n    this.smoothingFactor = newSmoothingFactor;\n  }\n\n  canChangeSmoothingFactor(): boolean {\n    return this.captures.size === 0;\n  }\n\n  public toJSON(): FrozenTube {\n    const captures = [...this.captures.values()];\n\n    return {\n      name: this.name,\n      captures: captures.length === 0 ? undefined : captures,\n      selectedCaptureUgrid: this.selectedUgrid === null ? undefined : this.selectedUgrid,\n      smoothingFactor: this.smoothingFactor,\n    };\n  }\n}\n","/*\nPrepares a frozen version of all the tubes via toJSON\nThese frozen data get rid of all the handlers and complex objects such maps\n*/\n\nimport * as fs from 'file-saver';\nimport { FrozenData, FrozenTube } from './model/FrozenData';\nimport ModelCapture from './model/ModelCapture';\nimport ModelTube from './model/ModelTube';\n\ninterface ApplicationData {\n  tubes: ModelTube[],\n  measurements: number[],\n  notes: string | undefined,\n}\n\nexport const saveToJSON = (tubes: ModelTube[], measurements: number[], notes: string): void => {\n  const frozenTubes: FrozenTube[] = [];\n  tubes.forEach((tube: ModelTube) => {\n    frozenTubes.push(tube.toJSON());\n  });\n\n  // Prepares then a frozen version of all data\n  const frozenData: FrozenData = {\n    tubes: frozenTubes.length === 0 ? undefined : frozenTubes,\n    measurements: measurements.length === 0 ? undefined : measurements,\n    notes,\n  };\n\n  // Stringifies those frozen data and save it to a file\n  const saveJson: string = JSON.stringify(frozenData);\n\n  const saveName = `save-${new Date().valueOf()}.json`;\n  fs.saveAs(new Blob([saveJson]), saveName);\n};\n\nexport const loadFromJSON = (jsonContent: string): ApplicationData => {\n  const frozenData: FrozenData = JSON.parse(jsonContent);\n\n  const tubes: ModelTube[] = [];\n\n  if (frozenData.tubes !== undefined) {\n    frozenData.tubes.forEach((frozenTube: FrozenTube) => {\n      const tube = new ModelTube(frozenTube.name);\n\n      if (frozenTube.smoothingFactor !== undefined) {\n        tube.changeSmoothingFactor(frozenTube.smoothingFactor);\n      }\n\n      if (frozenTube.captures !== undefined) {\n        frozenTube.captures.forEach((capture: ModelCapture) => {\n          tube.createCapture(capture.uAnode, capture.uGrid, capture.iCathode);\n        });\n      }\n\n      if (frozenTube.selectedCaptureUgrid !== undefined) {\n        tube.changeSelectedUgrid(frozenTube.selectedCaptureUgrid);\n      }\n\n      tubes.push(tube);\n    });\n  }\n\n  let measurements: number[] = [];\n\n  if (frozenData.measurements !== undefined) {\n    measurements = frozenData.measurements;\n  }\n\n  return {\n    tubes,\n    measurements,\n    notes: frozenData.notes,\n  } as ApplicationData;\n};\n","import ModelTube from '@/model/ModelTube';\nimport ModelCapture from '@/model/ModelCapture';\n\nconst getSelectedCapture = (tube: ModelTube): ModelCapture | string => {\n  if (tube.selectedUgrid === null) {\n    return 'Selectionnez une capture en cliquant dessus dans le panneau Tubes';\n  }\n  const capture = tube.captures.get(tube.selectedUgrid);\n  if (capture === undefined) {\n    return `La capture ${tube.selectedUgrid} n'existe pas pour le tube ${tube.name}`;\n  }\n  return capture;\n};\n\nconst getClosestIndex = (list: number[], refValue: number): number | null => {\n  const roughPosition = list.findIndex(\n    (value) => value >= refValue,\n  );\n  if (roughPosition === -1) {\n    return null;\n  }\n  if (roughPosition === 0) {\n    return roughPosition;\n  }\n\n  return (\n    Math.abs(refValue - list[roughPosition])\n          < Math.abs(refValue - list[roughPosition - 1])\n  ) ? roughPosition : roughPosition - 1;\n};\n\nconst getClosestUanode = (capture: ModelCapture, uAnode: number) => {\n  let closestUanodeIndex = getClosestIndex(capture.uAnode, uAnode);\n  if (closestUanodeIndex === null) {\n    throw Error(`Aucun échantillon capturé au delà de la tension anode ${uAnode}V`);\n  } else if (closestUanodeIndex === 0) {\n    closestUanodeIndex += 1;\n  } else if (closestUanodeIndex === capture.uAnode.length - 1) {\n    closestUanodeIndex -= 1;\n  }\n  return closestUanodeIndex;\n};\n\nconst getSortedCaptures = (tube: ModelTube) => {\n  const capturesSorted = [...tube.captures.values()].sort((a: ModelCapture, b: ModelCapture) => {\n    if (a.uGrid < b.uGrid) {\n      return -1;\n    } if (a.uGrid > b.uGrid) {\n      return 1;\n    }\n    return 0;\n  });\n  return capturesSorted;\n};\n\nexport const computeSelectedIcathode = (\n  tube: ModelTube,\n  uAnodeMeasurement: number,\n): number | string => {\n  if (tube.captures.size < 1) {\n    return 'Le tube doit contenir au moins une capture';\n  }\n\n  const gridCapture = getSelectedCapture(tube);\n  if (typeof gridCapture === 'string') {\n    return gridCapture;\n  }\n\n  const closestUanodeIndex = getClosestUanode(gridCapture, uAnodeMeasurement as number);\n\n  return Number.parseFloat(gridCapture.iCathode[closestUanodeIndex].toFixed(2));\n};\n\nexport const computeInternalResistance = (\n  tube: ModelTube,\n  uAnodeMeasurement: number,\n): number | string => {\n  if (tube.captures.size < 1) {\n    return 'Le tube doit contenir au moins une capture';\n  }\n\n  const gridCapture = getSelectedCapture(tube);\n  if (typeof gridCapture === 'string') {\n    return gridCapture;\n  }\n\n  const closestUanodeIndex = getClosestUanode(gridCapture, uAnodeMeasurement);\n\n  const lowerMean = (\n    (gridCapture.uAnode[closestUanodeIndex] - gridCapture.uAnode[closestUanodeIndex - 1])\n      / (\n        gridCapture.iCathode[closestUanodeIndex]\n        - gridCapture.iCathode[closestUanodeIndex - 1]\n      )\n  );\n  const upperMean = (\n    (gridCapture.uAnode[closestUanodeIndex + 1] - gridCapture.uAnode[closestUanodeIndex])\n      / (\n        gridCapture.iCathode[closestUanodeIndex + 1]\n        - gridCapture.iCathode[closestUanodeIndex]\n      )\n  );\n  return (lowerMean + upperMean) / 2;\n};\n\nexport const computeTransductance = (\n  tube: ModelTube,\n  uAnodeMeasurement: number,\n): number | string => {\n  // Transductance and amplification factor calculation require at least 2 captures\n  if (tube.captures.size < 2) {\n    return 'Le tube doit contenir au moins deux captures';\n  }\n\n  const gridCapture = getSelectedCapture(tube);\n  if (typeof gridCapture === 'string') {\n    return gridCapture;\n  }\n\n  const capturesSorted = getSortedCaptures(tube);\n\n  const closestUanodeIndex = getClosestUanode(gridCapture, uAnodeMeasurement);\n  const iMeasure = gridCapture.iCathode[closestUanodeIndex];\n\n  // Transductance calculation is always possible\n\n  const calculateTransductance = (relativeCapture: ModelCapture): number => Math.abs(\n    (iMeasure - relativeCapture.iCathode[closestUanodeIndex as number])\n      / (gridCapture.uGrid - relativeCapture.uGrid),\n  );\n\n  const captureIndex = capturesSorted.findIndex((cap) => cap === gridCapture) as number;\n  let transductance;\n  if (captureIndex !== 0) {\n    transductance = calculateTransductance(capturesSorted[captureIndex - 1]);\n  } else {\n    transductance = calculateTransductance(capturesSorted[captureIndex + 1]);\n  }\n\n  return transductance;\n};\n\nexport const computeAmplificationFactor = (\n  tube: ModelTube,\n  uAnodeMeasurement: number,\n): number | string => {\n  // Transductance and amplification factor calculation require at least 2 captures\n  if (tube.captures.size < 2) {\n    return 'Le tube doit contenir au moins deux captures';\n  }\n\n  const gridCapture = getSelectedCapture(tube);\n  if (typeof gridCapture === 'string') {\n    return gridCapture;\n  }\n\n  // Transductance and amplification factor calculation require at least 2 captures\n\n  if (tube.captures.size < 2) {\n    return 'Le tube doit contenir au moins deux captures';\n  }\n\n  const capturesSorted = getSortedCaptures(tube);\n\n  const closestUanodeIndex = getClosestUanode(gridCapture, uAnodeMeasurement);\n  const iMeasure = gridCapture.iCathode[closestUanodeIndex];\n\n  // Amplification factor calculation is not always possible\n\n  const calculateAmplificationFactor = (relativeCapture: ModelCapture): number | null => {\n    const closestImeasure = getClosestIndex(relativeCapture.iCathode, iMeasure);\n\n    if (closestImeasure === null) {\n      return null;\n    }\n    return Math.abs(\n      (relativeCapture.uAnode[closestImeasure] - uAnodeMeasurement)\n      / (gridCapture.uGrid - relativeCapture.uGrid),\n    );\n  };\n\n  const captureIndex = <number> capturesSorted.findIndex((cap) => cap === gridCapture);\n  let amplificationFactor = null;\n  if (captureIndex !== 0) {\n    amplificationFactor = calculateAmplificationFactor(capturesSorted[captureIndex - 1]);\n  }\n  if (amplificationFactor === null) {\n    amplificationFactor = calculateAmplificationFactor(capturesSorted[captureIndex + 1]);\n  }\n\n  if (amplificationFactor !== null) {\n    return amplificationFactor;\n  }\n  return 'Impossible de calculer le facteur d\\'amplification avec ces captures';\n};\n","import * as Excel from 'exceljs';\nimport * as fs from 'file-saver';\nimport ModelTube from './model/ModelTube';\nimport ModelCapture from './model/ModelCapture';\nimport {\n  computeAmplificationFactor,\n  computeInternalResistance,\n  computeSelectedIcathode,\n  computeTransductance,\n} from './MeasurementFunctions';\n\nexport const exportToExcel = (tubes: ModelTube[], measurements: number[]): void => {\n  const workbook = new Excel.Workbook();\n  workbook.creator = 'Lampemetre-web';\n  workbook.created = new Date();\n  workbook.modified = new Date();\n\n  tubes.forEach((tube: ModelTube) => {\n    const worksheet = workbook.addWorksheet(tube.name);\n\n    let iter = 1;\n    tube.captures.forEach((capture: ModelCapture) => {\n      const table: Excel.Table = worksheet.addTable({\n        name: `${tube.name} ${capture.toString()}`,\n        ref: worksheet.getCell(1, iter).address,\n        headerRow: true,\n        totalsRow: true,\n        columns: [\n          {\n            name: 'Tension Anode',\n            totalsRowLabel: '',\n            filterButton: false,\n          },\n          {\n            name: `Intensité cathode (uGrid ${capture.uGrid})`,\n            totalsRowFunction: 'none',\n            filterButton: false,\n          },\n        ],\n        rows: [\n        ],\n      });\n      for (let i = 0; i < capture.uAnode.length; i += 1) {\n        table.addRow([capture.uAnode[i], capture.iCathode[i]]);\n      }\n      table.commit();\n      iter += 3;\n    });\n  });\n\n  const worksheet = workbook.addWorksheet('Mesures');\n  const measuresTable: Excel.Table = worksheet.addTable({\n    name: 'Measures',\n    ref: 'A1',\n    headerRow: true,\n    totalsRow: true,\n    columns: [\n      { name: 'Tension anode mesure', totalsRowLabel: '', filterButton: false },\n      { name: 'Nom du tube', totalsRowLabel: '', filterButton: false },\n      { name: 'Tension grille', totalsRowFunction: 'none', filterButton: false },\n      { name: 'Courant cathode', totalsRowLabel: 'none', filterButton: false },\n      { name: 'Résistance interne', totalsRowFunction: 'none', filterButton: false },\n      { name: 'Transductance', totalsRowFunction: 'none', filterButton: false },\n      { name: 'Facteur d\\'amplification', totalsRowFunction: 'none', filterButton: false },\n    ],\n    rows: [\n    ],\n  });\n  measurements.forEach((uAnode: number) => {\n    tubes.forEach((tube: ModelTube) => {\n      const { selectedUgrid } = tube;\n      if (selectedUgrid !== null) {\n        const values = [uAnode, tube.name, selectedUgrid];\n\n        const measurementsValues: (string | number)[] = [\n          computeSelectedIcathode(tube, uAnode),\n          computeInternalResistance(tube, uAnode),\n          computeTransductance(tube, uAnode),\n          computeAmplificationFactor(tube, uAnode),\n        ];\n        const units: string[] = [\n          'mA',\n          'kOhm',\n          'mA/V (mS)',\n          '',\n        ];\n        measurementsValues.forEach((measurement: string | number, i) => {\n          values.push(\n            typeof measurement === 'string' ? '/' : `${measurement} ${units[i]}`,\n          );\n        });\n\n        measuresTable.addRow(values);\n        measuresTable.commit();\n      }\n    });\n  });\n\n  workbook.xlsx.writeBuffer().then((data) => {\n    const blob = new Blob([data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n    fs.saveAs(blob, `lampemetre-${new Date().valueOf()}.xlsx`);\n  });\n};\n\nexport const importFromExcel = async (excelData: ArrayBuffer): Promise<ModelTube[]> => {\n  const tubes: ModelTube[] = [];\n\n  const wb = new Excel.Workbook();\n\n  const workbook = await wb.xlsx.load(excelData);\n\n  // Each sheet is a tube, except for the 'last' sheet, which is measures sheet\n  workbook.eachSheet((worksheet: Excel.Worksheet) => {\n    // Ignore sheets named 'Mesures'\n    if (worksheet.name !== 'Mesures') {\n      const tube = new ModelTube(worksheet.name);\n\n      const captures: ModelCapture[] = [];\n\n      /*\n        First, creates all the captures by parsing the header\n        The header of each sheet contains n times the following sequence:\n        'Tension Anode' | 'Intensité cathode (uGrid x)' | Blank cell\n        Each of these sequences define capture for a single grid tension (here labeled 'x').\n        */\n      const headerRow: Excel.Row = worksheet.getRow(1);\n      const regex = /[-+]?\\d+(\\.\\d*)?/; // Used to parse the grid tension from the table header\n      const uGridErrorMessage = `Valeur de tension de grille non trouvée dans l'en-tête du tube ${worksheet.name}`;\n      for (let c = 2; c < worksheet.columnCount + 1; c += 3) {\n        const cellValue = headerRow.getCell(c).value;\n        if (cellValue === null || cellValue === undefined) {\n          throw new Error(uGridErrorMessage);\n        }\n\n        // See if uGrid is properly defined in the table header\n        const foundUGrid = cellValue.toString().match(regex);\n        if (foundUGrid === null || foundUGrid === undefined) {\n          throw new Error(uGridErrorMessage);\n        }\n\n        // Creates a capture with this uGrid\n        const uGrid = Number.parseFloat(foundUGrid.toString());\n        captures.push(new ModelCapture([], uGrid, []));\n      }\n\n      // Then, the program iterates each rows and extracts the values for each captures in the row\n      worksheet.eachRow((row: Excel.Row, rowNumber: number) => {\n        if (rowNumber !== 1) {\n          for (let c = 1; c < worksheet.columnCount; c += 3) {\n            // Gets the correct capture\n            const capture = captures[Math.floor(c / 3)];\n\n            // Extracts the content of 'Tension Anode' and 'Intensité cathode' cells\n            const uAnodeCellValue = row.getCell(c).value;\n            const iCathodeCellValue = row.getCell(c + 1).value;\n\n            if (uAnodeCellValue !== null && uAnodeCellValue !== undefined\n                && iCathodeCellValue !== null && iCathodeCellValue !== undefined) {\n              // Tries to parse values to float\n              const uAnode = Number.parseFloat(uAnodeCellValue.toString());\n              const iCathode = Number.parseFloat(iCathodeCellValue.toString());\n\n              // Ends function here if we cannot parse the read values to float\n              const parseError = `Erreur lors de la lecture de la catpure de tension grille ${capture.uGrid}.\\n\n                Valeur non numérique trouvée: `;\n              if (Number.isNaN(uAnode)) {\n                throw new Error(`${parseError}'${uAnodeCellValue}' (tension anode)`);\n              }\n              if (Number.isNaN(iCathode)) {\n                throw new Error(`${parseError}'${iCathodeCellValue}' (intensité cathode)`);\n              }\n\n              capture.uAnode.push(uAnode);\n              capture.iCathode.push(iCathode);\n            }\n          }\n        }\n      });\n\n      // Adds capture to the tube\n      captures.forEach((capture) => {\n        tube.createCapture(capture.uAnode, capture.uGrid, capture.iCathode);\n      });\n\n      tubes.push(tube);\n    }\n  });\n  return tubes;\n};\n","\nimport { defineComponent } from 'vue';\nimport LoadFile from '@/components/LoadFile.vue';\nimport { saveToJSON, loadFromJSON } from '@/SaveLoad';\nimport { exportToExcel, importFromExcel } from '@/ImportExport';\nimport ModelTube from '@/model/ModelTube';\n\nexport default defineComponent({\n  name: 'SaveLoad.vue',\n  components: {\n    LoadFile,\n  },\n  events: [\n    'errorTriggered',\n  ],\n  methods: {\n    saveJSON() {\n      const { tubes, measurements, notes } = this.$store.state;\n\n      saveToJSON(tubes, [...measurements.values()], notes);\n    },\n    loadJSON(jsonContent: string) {\n      try {\n        const { tubes, measurements, notes } = loadFromJSON(jsonContent);\n\n        tubes.forEach((tube: ModelTube) => {\n          this.$store.dispatch('ADD_TUBE', { tube });\n        });\n        measurements.forEach((uAnode: number) => {\n          this.$store.dispatch('ADD_MEASUREMENT', { uAnode });\n        });\n        if (notes !== undefined) {\n          this.$store.dispatch('SET_NOTES', { newNotes: notes });\n        }\n      } catch (e: any) {\n        this.$emit('errorTriggered', { errorMessage: e.message, errorSource: 'Chargement JSON' });\n      }\n    },\n    exportExcel() {\n      const { tubes, measurements } = this.$store.state;\n      exportToExcel(tubes, [...measurements.values()]);\n    },\n    async importExcel(excelData: ArrayBuffer) {\n      try {\n        const tubes = await importFromExcel(excelData);\n        tubes.forEach((tube: ModelTube) => {\n          this.$store.dispatch('ADD_TUBE', { tube });\n        });\n      } catch (e: any) {\n        this.$emit('errorTriggered', { errorMessage: e.message, errorSource: 'Chargement Excel' });\n      }\n    },\n  },\n});\n","import { render } from \"./SaveLoad.vue?vue&type=template&id=60679c2d&scoped=true&ts=true\"\nimport script from \"./SaveLoad.vue?vue&type=script&lang=ts\"\nexport * from \"./SaveLoad.vue?vue&type=script&lang=ts\"\n\nimport \"./SaveLoad.vue?vue&type=style&index=0&id=60679c2d&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-60679c2d\"]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport Timer from '@/components/Timer.vue';\nimport SaveLoad from '@/components/SaveLoad.vue';\n\nexport default defineComponent({\n  name: 'HeaderBar',\n  components: {\n    Timer,\n    SaveLoad,\n  },\n  emits: [\n    'errorTriggered',\n  ],\n});\n","import { render } from \"./HeaderBar.vue?vue&type=template&id=6aa529e9&scoped=true&ts=true\"\nimport script from \"./HeaderBar.vue?vue&type=script&lang=ts\"\nexport * from \"./HeaderBar.vue?vue&type=script&lang=ts\"\n\nimport \"./HeaderBar.vue?vue&type=style&index=0&id=6aa529e9&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6aa529e9\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, vModelText as _vModelText, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-21fcc49c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chart_tubes_notes d-flex\" }\nconst _hoisted_2 = { class: \"d-block\" }\nconst _hoisted_3 = { class: \"notes ms-4\" }\nconst _hoisted_4 = { class: \"header\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \" Notes \", -1))\nconst _hoisted_6 = {\n  class: \"info_bulle bi bi-question-circle-fill text-secondary\",\n  title: \"Utilisez cette zone de texte pour écrire les notes de votre choix.\\n          Celles ci seront sauvegardées avec le projet\",\n  \"data-bs-toggle\": \"tooltip\",\n  \"data-bs-placement\": \"bottom\"\n}\nconst _hoisted_7 = { class: \"mt-2 ms-4\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Chart = _resolveComponent(\"Chart\")!\n  const _component_TubesList = _resolveComponent(\"TubesList\")!\n  const _component_MeasurementsList = _resolveComponent(\"MeasurementsList\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_Chart, {\n          onAddMeasurement: _ctx.addMeasurement,\n          onRemoveMeasurement: _ctx.removeMeasurement\n        }, null, 8, [\"onAddMeasurement\", \"onRemoveMeasurement\"]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _withDirectives(_createElementVNode(\"i\", _hoisted_6, null, 512), [\n              [_directive_tooltip]\n            ])\n          ]),\n          _withDirectives(_createElementVNode(\"textarea\", {\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.notes) = $event))\n          }, null, 512), [\n            [_vModelText, _ctx.notes]\n          ])\n        ])\n      ]),\n      _createVNode(_component_TubesList)\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _createVNode(_component_MeasurementsList)\n    ])\n  ], 64))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { ref: \"chart\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, null, 512))\n}","\nimport { defineComponent } from 'vue';\nimport {\n  Layout, Shape, Data, PlotMouseEvent, newPlot, redraw, PlotData,\n} from 'plotly.js';\nimport { Color } from '@/Color';\n\ninterface PlotHTMLElement extends HTMLElement {\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  on(eventName: string, handler: Function): void;\n}\n\nexport default defineComponent({\n  name: 'Chart',\n  emits: ['addMeasurement', 'removeMeasurement'],\n  data: () => {\n    const rootHtml = null as PlotHTMLElement | null;\n    const curves = [] as Data[];\n    const annotations: Partial<Shape>[] = [];\n    const layout = {\n      width: 870,\n      height: 650,\n      shapes: annotations,\n      xaxis: {\n        title: 'Tension anode (V)',\n        titlefont: {\n          size: 18,\n        },\n      },\n      yaxis: {\n        title: 'Intensité cathode (mA)',\n        titlefont: {\n          size: 18,\n        },\n      },\n      legend: {\n        title: { text: 'Tension grille' },\n      },\n    } as Partial<Layout>;\n\n    return {\n      rootHtml,\n      curves,\n      annotations,\n      layout,\n    };\n  },\n  mounted() {\n    this.rootHtml = this.$refs.chart as PlotHTMLElement;\n    newPlot(this.rootHtml, this.curves as Data[], this.layout as Partial<Layout>);\n\n    this.rootHtml.on('plotly_click', (data: PlotMouseEvent) => {\n      const xClicked: number = data.points[0].x as number;\n\n      if (this.$store.state.measurements.has(xClicked)) {\n        this.$emit('removeMeasurement', xClicked);\n      } else {\n        this.$emit('addMeasurement', xClicked);\n      }\n    });\n\n    this.refresh();\n  },\n  computed: {\n    tubes() {\n      return this.$store.state.tubes;\n    },\n    measurements() {\n      return this.$store.state.measurements;\n    },\n  },\n  watch: {\n    tubes: {\n      handler() {\n        this.refreshTubes();\n      },\n      deep: true,\n    },\n    measurements: {\n      handler() {\n        this.refreshMeasurements();\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    refresh() {\n      this.refreshTubes();\n      this.refreshMeasurements();\n    },\n    refreshTubes() {\n      this.curves.splice(0, this.curves.length);\n      this.$store.state.tubes.forEach((tube) => {\n        const tubeColor = this.$store.state.tubeColors.get(tube) as Color;\n\n        tube.captures.forEach((capture) => {\n          const trace: PlotData = {\n            x: capture.uAnode,\n            y: capture.iCathode,\n            mode: 'lines+markers',\n            type: 'scatter',\n            marker: {\n              color: tubeColor.toString(),\n            },\n            name: capture.toString(),\n          } as PlotData;\n\n          this.curves.push(trace);\n        });\n      });\n      redraw(this.rootHtml as PlotHTMLElement);\n    },\n    refreshMeasurements() {\n      this.annotations.splice(0, this.annotations.length);\n      this.$store.state.measurements.forEach((uAnode) => {\n        const measurementColor = this.$store.state.measurementsColors.get(uAnode) as Color;\n        const shape = {\n          type: 'line',\n          x0: uAnode,\n          y0: 0,\n          x1: uAnode,\n          yref: 'paper',\n          y1: 1,\n          line: {\n            color: measurementColor.toString(),\n            width: 4,\n            dash: 'dot',\n          },\n        } as Shape;\n        this.annotations.push(shape);\n      });\n      redraw(this.rootHtml as PlotHTMLElement);\n    },\n  },\n});\n","import { render } from \"./Chart.vue?vue&type=template&id=47cffa4f&ts=true\"\nimport script from \"./Chart.vue?vue&type=script&lang=ts\"\nexport * from \"./Chart.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-209cc72e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"d-block\" }\nconst _hoisted_2 = { class: \"header\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Mesures\", -1))\nconst _hoisted_4 = {\n  class: \"btn-group ms-3 align-bottom\",\n  role: \"group\",\n  \"aria-label\": \"measurement-control\"\n}\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-plus-lg\" }, null, -1))\nconst _hoisted_6 = [\n  _hoisted_5\n]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\nconst _hoisted_9 = { class: \"mt-3\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\"Entrez la \"),\n  /*#__PURE__*/_createElementVNode(\"b\", null, \"tension anode\"),\n  /*#__PURE__*/_createTextVNode(\" pour laquelle vous souhaitez effectuer la capture.\")\n], -1))\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Appuyez sur ',' pour entrer une autre valeur de tension anode.\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Measurement = _resolveComponent(\"Measurement\")!\n  const _component_ModalConfirm = _resolveComponent(\"ModalConfirm\")!\n  const _component_ModalPromptNumbers = _resolveComponent(\"ModalPromptNumbers\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _hoisted_3,\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"btn btn-dark\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.promptMeasurementsModal.show()))\n          }, _hoisted_6),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"btn btn-outline-dark\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.clearMeasurementsModal.show()))\n          }, _hoisted_8)\n        ])\n      ]),\n      _createElementVNode(\"ul\", _hoisted_9, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.measurements, (uAnode) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            class: \"d-inline-block me-3 mb-3\",\n            key: uAnode\n          }, [\n            _createVNode(_component_Measurement, {\n              uAnode: uAnode,\n              onMeasurementRemoved: ($event: any) => (_ctx.removeMeasurement(uAnode))\n            }, null, 8, [\"uAnode\", \"onMeasurementRemoved\"])\n          ]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ModalConfirm, {\n      body: \"Voulez vous vraiment supprimer toutes les mesures ?\",\n      onConfirmed: _ctx.clearMeasurements,\n      onModalCreated: _cache[2] || (_cache[2] = ($event: any) => (this.clearMeasurementsModal = $event))\n    }, null, 8, [\"onConfirmed\"]),\n    _createVNode(_component_ModalPromptNumbers, {\n      title: \"Nouvelle mesure\",\n      onModalCreated: _cache[3] || (_cache[3] = ($event: any) => (this.promptMeasurementsModal = $event)),\n      onPromptDone: _ctx.addMeasurements\n    }, {\n      default: _withCtx(() => [\n        _hoisted_10,\n        _hoisted_11\n      ]),\n      _: 1\n    }, 8, [\"onPromptDone\"])\n  ], 64))\n}","import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d222a206\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"header text-center mb-2\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1))\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = { class: \"table table-striped table-bordered d-inline\" }\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", { scope: \"col\" }, null, -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", { scope: \"col\" }, \"Courant cathode\", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", { scope: \"col\" }, \"Résistance\", -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", { scope: \"col\" }, \"Transductance\", -1))\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", { scope: \"col\" }, \"μ (coef)\", -1))\nconst _hoisted_11 = [\n  _hoisted_6,\n  _hoisted_7,\n  _hoisted_8,\n  _hoisted_9,\n  _hoisted_10\n]\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-infinity me-2\" }, null, -1))\nconst _hoisted_13 = [\"title\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"colorTip d-inline-block align-bottom me-2\",\n        style: _normalizeStyle(_ctx.setMeasurementColor())\n      }, null, 4),\n      _createElementVNode(\"h3\", null, _toDisplayString(_ctx.uAnode) + \" V\", 1),\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-outline-dark ms-2 align-bottom\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.removeMeasurement()))\n      }, _hoisted_3)\n    ]),\n    _createElementVNode(\"table\", _hoisted_4, [\n      _createElementVNode(\"thead\", null, [\n        (this.tubes.length > 0)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_5, _hoisted_11))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"tbody\", null, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.measurementResults, (result, i) => {\n          return (_openBlock(), _createElementBlock(\"tr\", { key: i }, [\n            _createElementVNode(\"th\", {\n              scope: \"col\",\n              style: _normalizeStyle(_ctx.setTubeColor(result.tube))\n            }, _toDisplayString(result.tube.name), 5),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(result.results, (value, j) => {\n              return (_openBlock(), _createElementBlock(\"td\", {\n                class: \"text-center\",\n                key: j\n              }, [\n                (typeof value === 'number')\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                      (Number.isFinite(value))\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                            _createTextVNode(_toDisplayString(value.toFixed(1)) + \" \" + _toDisplayString(_ctx.units[j]), 1)\n                          ], 64))\n                        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                            _hoisted_12,\n                            _createElementVNode(\"span\", null, _toDisplayString(_ctx.units[j]), 1)\n                          ], 64))\n                    ], 64))\n                  : _withDirectives((_openBlock(), _createElementBlock(\"i\", {\n                      key: 1,\n                      class: \"icon bi bi-exclamation-triangle-fill\",\n                      title: value\n                    }, null, 8, _hoisted_13)), [\n                      [_directive_tooltip]\n                    ])\n              ]))\n            }), 128))\n          ]))\n        }), 128))\n      ])\n    ])\n  ], 64))\n}","\nimport { defineComponent } from 'vue';\nimport ModelTube from '@/model/ModelTube';\nimport {\n  computeAmplificationFactor,\n  computeInternalResistance,\n  computeSelectedIcathode,\n  computeTransductance,\n} from '@/MeasurementFunctions';\nimport { Color } from '@/Color';\n\ninterface MeasurementResults {\n  tube: ModelTube,\n  results: (number | string)[]\n}\n\nexport default defineComponent({\n  name: 'Measurement',\n  emits: ['measurementRemoved'],\n  props: {\n    uAnode: Number,\n  },\n  data: () => ({\n    units: [\n      'mA',\n      'kOhm',\n      'mA/V (mS)',\n      '',\n    ] as string[],\n  }),\n  computed: {\n    tubes(): ModelTube[] {\n      return this.$store.state.tubes;\n    },\n    measurementResults(): MeasurementResults[] {\n      return this.$store.state.tubes.map((tube: ModelTube) => {\n        const uAnode = this.uAnode as number;\n        const computedTube: MeasurementResults = {\n          tube,\n          results: [\n            computeSelectedIcathode(tube, uAnode),\n            computeInternalResistance(tube, uAnode),\n            computeTransductance(tube, uAnode),\n            computeAmplificationFactor(tube, uAnode),\n          ],\n        };\n        return computedTube;\n      });\n    },\n  },\n  methods: {\n    removeMeasurement(): void {\n      this.$emit('measurementRemoved');\n    },\n    setMeasurementColor() {\n      let stringColor = 'rgba(0, 0, 0, 1)';\n      if (this.uAnode !== undefined) {\n        stringColor = (this.$store.state.measurementsColors.get(this.uAnode) as Color).toString();\n      }\n      return {\n        'background-color': stringColor,\n      };\n    },\n    setTubeColor(tube: ModelTube) {\n      const color = this.$store.state.tubeColors.get(tube);\n      if (color === undefined) {\n        return '';\n      }\n      return {\n        'border-left': `0.35rem solid ${color.toString()}`,\n      };\n    },\n  },\n});\n","import { render } from \"./Measurement.vue?vue&type=template&id=d222a206&scoped=true&ts=true\"\nimport script from \"./Measurement.vue?vue&type=script&lang=ts\"\nexport * from \"./Measurement.vue?vue&type=script&lang=ts\"\n\nimport \"./Measurement.vue?vue&type=style&index=0&id=d222a206&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d222a206\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"modal-header\" }, [\n  /*#__PURE__*/_createElementVNode(\"h5\", { class: \"modal-title\" }, \"Confirmation\"),\n  /*#__PURE__*/_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    \"data-bs-dismiss\": \"modal\"\n  })\n], -1)\nconst _hoisted_2 = { class: \"modal-body\" }\nconst _hoisted_3 = { class: \"modal-footer\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n}, \"Annuler\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ModalPopup = _resolveComponent(\"ModalPopup\")!\n\n  return (_openBlock(), _createBlock(_component_ModalPopup, {\n    onModalCreated: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('modalCreated', $event))),\n    onEnterPressed: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('confirmed')))\n  }, {\n    default: _withCtx(() => [\n      _hoisted_1,\n      _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.body), 1),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary\",\n          \"data-bs-dismiss\": \"modal\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('confirmed')))\n        }, \" Oui \")\n      ])\n    ]),\n    _: 1\n  }))\n}","import { renderSlot as _renderSlot, createElementVNode as _createElementVNode, toHandlers as _toHandlers, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"modal-dialog\" }\nconst _hoisted_2 = { class: \"modal-content\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n    class: \"modal fade\",\n    ref: \"modal\",\n    tabindex: \"-1\",\n    onKeypress: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.isEnterKey && _ctx.isEnterKey(...args)))\n  }, _toHandlers({\n      'show.bs.modal': () => { _ctx.$emit('show') },\n      'shown.bs.modal': () => { _ctx.$emit('shown') }\n      })), [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _renderSlot(_ctx.$slots, \"default\")\n      ])\n    ])\n  ], 16))\n}","\nimport { defineComponent } from 'vue';\nimport { Modal } from 'bootstrap';\n\nexport default defineComponent({\n  name: 'ModalPopup',\n  emits: [\n    'show',\n    'shown',\n    'modalCreated',\n    'enterPressed',\n  ],\n  data: () => ({\n    modal: null as Modal | null,\n  }),\n  mounted() {\n    const modalDiv = this.$refs.modal as HTMLElement;\n    this.modal = new Modal(modalDiv);\n    this.$emit('modalCreated', this.modal);\n  },\n  methods: {\n    isEnterKey(evt: any) {\n      if (evt.keyCode === 13) {\n        (this.modal as Modal).hide();\n        this.$emit('enterPressed');\n      }\n    },\n  },\n});\n","import { render } from \"./ModalPopup.vue?vue&type=template&id=d649aac6&ts=true\"\nimport script from \"./ModalPopup.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalPopup.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport ModalPopup from '@/components/ModalPopup.vue';\n\nexport default defineComponent({\n  name: 'ModalConfirm',\n  components: {\n    ModalPopup,\n  },\n  props: {\n    body: String,\n  },\n  emits: [\n    'confirmed',\n    'modalCreated',\n  ],\n});\n","import { render } from \"./ModalConfirm.vue?vue&type=template&id=5d82c5dc&ts=true\"\nimport script from \"./ModalConfirm.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalConfirm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderSlot as _renderSlot, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"modal-header\" }\nconst _hoisted_2 = { class: \"modal-title\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\"\n}, null, -1)\nconst _hoisted_4 = { class: \"modal-body\" }\nconst _hoisted_5 = { class: \"inputs\" }\nconst _hoisted_6 = { class: \"input-group mb-3\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"input-group-text\"\n}\nconst _hoisted_8 = [\"onUpdate:modelValue\", \"onKeypress\"]\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"input-group-text\" }, \"V\", -1)\nconst _hoisted_10 = [\"disabled\", \"onClick\"]\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1)\nconst _hoisted_12 = [\n  _hoisted_11\n]\nconst _hoisted_13 = { class: \"modal-footer\" }\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n}, \" Annuler \", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ModalPopup = _resolveComponent(\"ModalPopup\")!\n\n  return (_openBlock(), _createBlock(_component_ModalPopup, {\n    onModalCreated: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('modalCreated', $event))),\n    onEnterPressed: _ctx.sendResults,\n    onShow: _ctx.resetModal,\n    onShown: _ctx.focusFirstInput\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"h5\", _hoisted_2, _toDisplayString(_ctx.title), 1),\n        _hoisted_3\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _renderSlot(_ctx.$slots, \"default\"),\n        _createElementVNode(\"div\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.inputs, (input, i) => {\n            return (_openBlock(), _createElementBlock(\"div\", { key: i }, [\n              _createElementVNode(\"div\", _hoisted_6, [\n                (this.sign !== undefined)\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString(_ctx.sign), 1))\n                  : _createCommentVNode(\"\", true),\n                _withDirectives(_createElementVNode(\"input\", {\n                  type: \"text\",\n                  class: _normalizeClass([\"form-control\", _ctx.inputValid(i) ? '' : 'is-invalid']),\n                  ref_for: true,\n                  ref: 'prompt' + i,\n                  \"onUpdate:modelValue\": ($event: any) => ((this.inputs[i]) = $event),\n                  onKeypress: ($event: any) => (_ctx.updateInputs($event, i))\n                }, null, 42, _hoisted_8), [\n                  [_vModelText, this.inputs[i]]\n                ]),\n                _hoisted_9,\n                _createElementVNode(\"button\", {\n                  class: \"btnRemovePrompt btn btn-outline-dark\",\n                  disabled: i === 0 && this.inputs.length === 1,\n                  type: \"button\",\n                  onClick: ($event: any) => (_ctx.deleteInput(i))\n                }, _hoisted_12, 8, _hoisted_10)\n              ])\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_13, [\n        _hoisted_14,\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary\",\n          \"data-bs-dismiss\": \"modal\",\n          ref: \"confirmBtn\",\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.sendResults && _ctx.sendResults(...args)))\n        }, \" Valider \", 512)\n      ])\n    ]),\n    _: 3\n  }, 8, [\"onEnterPressed\", \"onShow\", \"onShown\"]))\n}","\nimport { defineComponent } from 'vue';\nimport ModalPopup from '@/components/ModalPopup.vue';\n\nexport default defineComponent({\n  name: 'ModalPromptNumbers',\n  components: {\n    ModalPopup,\n  },\n  props: {\n    title: String,\n    sign: String,\n  },\n  emits: [\n    'modalCreated',\n    'promptDone',\n  ],\n  data: () => ({\n    inputs: [''] as string[],\n  }),\n  methods: {\n    updateInputs(evt: any, indexInput: number) {\n      if (evt.keyCode === 44) {\n        // Pressing comma on the last input creates a new input\n        if (indexInput === this.inputs.length - 1) {\n          this.inputs.push('');\n          // Waits a tick so the template created the fresh new input\n          this.$nextTick(() => {\n            const lastInput = (this.$refs[`prompt${this.inputs.length - 1}`] as HTMLElement[])[0];\n            lastInput.focus();\n          });\n        }\n        evt.preventDefault();\n      } else if (evt.keyCode === 32) {\n        evt.preventDefault();\n      }\n    },\n    deleteInput(index: number) {\n      this.inputs.splice(index, 1);\n    },\n    inputValid(indexInput: number) {\n      const input = this.inputs[indexInput];\n      if (input === '') {\n        return true;\n      }\n      const uGrid = Number.parseFloat(input);\n      return !Number.isNaN(uGrid);\n    },\n    sendResults() {\n      const uGrids = this.inputs.map(\n        (input: string) => Number.parseFloat(input),\n      ).filter(\n        (uGrid: number) => !Number.isNaN(uGrid),\n      );\n      this.$emit('promptDone', uGrids);\n    },\n    resetModal() {\n      this.inputs = [''];\n    },\n    focusFirstInput() {\n      const input = ((this.$refs.prompt0 as any)[0] as HTMLInputElement);\n      input.focus();\n    },\n  },\n});\n","import { render } from \"./ModalPromptNumbers.vue?vue&type=template&id=f15658e0&ts=true\"\nimport script from \"./ModalPromptNumbers.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalPromptNumbers.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport { Modal } from 'bootstrap';\nimport Measurement from '@/components/Measurement.vue';\nimport ModalConfirm from '@/components/ModalConfirm.vue';\nimport ModalPromptNumbers from '@/components/ModalPromptNumbers.vue';\n\nexport default defineComponent({\n  name: 'MeasurementsList',\n  components: {\n    Measurement,\n    ModalConfirm,\n    ModalPromptNumbers,\n  },\n  data: () => ({\n    clearMeasurementsModal: null as Modal | null,\n    promptMeasurementsModal: null as Modal | null,\n  }),\n  computed: {\n    measurements(): Set<number> {\n      return this.$store.state.measurements;\n    },\n  },\n  methods: {\n    promptMeasurement() {\n      const promptedUanode = prompt('Tension anode de mesure');\n      if (promptedUanode !== null) {\n        const uAnode = Number.parseFloat(promptedUanode);\n        if (!Number.isNaN(uAnode)) {\n          this.addMeasurement(uAnode);\n        }\n      }\n    },\n    addMeasurements(uAnodes: number[]) {\n      uAnodes.forEach((uAnode: number) => {\n        this.addMeasurement(uAnode);\n      });\n    },\n    addMeasurement(uAnode: number) {\n      this.$store.dispatch('ADD_MEASUREMENT', { uAnode });\n    },\n    removeMeasurement(uAnode: number) {\n      this.$store.dispatch('REMOVE_MEASUREMENT', { uAnode });\n    },\n    clearMeasurements() {\n      this.$store.dispatch('CLEAR_MEASUREMENTS');\n    },\n  },\n});\n","import { render } from \"./MeasurementsList.vue?vue&type=template&id=209cc72e&scoped=true&ts=true\"\nimport script from \"./MeasurementsList.vue?vue&type=script&lang=ts\"\nexport * from \"./MeasurementsList.vue?vue&type=script&lang=ts\"\n\nimport \"./MeasurementsList.vue?vue&type=style&index=0&id=209cc72e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-209cc72e\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3734bcca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tubes\" }\nconst _hoisted_2 = { class: \"header ms-4\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Tubes\", -1))\nconst _hoisted_4 = {\n  class: \"btn-group ms-3 align-bottom\",\n  role: \"group\",\n  \"aria-label\": \"tubes-control\"\n}\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-plus-lg\" }, null, -1))\nconst _hoisted_6 = [\n  _hoisted_5\n]\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\nconst _hoisted_9 = { class: \"d-flex flex-wrap align-items-stretch gap-3 mt-3\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Entrez le nom du nouveau tube.\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Tube = _resolveComponent(\"Tube\")!\n  const _component_ModalConfirm = _resolveComponent(\"ModalConfirm\")!\n  const _component_ModalPromptText = _resolveComponent(\"ModalPromptText\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _hoisted_3,\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"btn btn-dark\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (this.newTubeModal.show()))\n          }, _hoisted_6),\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"btn btn-outline-dark\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (this.clearTubesModal.show()))\n          }, _hoisted_8)\n        ])\n      ]),\n      _createElementVNode(\"ul\", _hoisted_9, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.tubes, (tube, i) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            class: \"d-flex\",\n            key: i\n          }, [\n            _createVNode(_component_Tube, {\n              tube: tube,\n              onSelectedCaptureChanged: ($event: any) => (_ctx.selectCaptureTube(tube, $event)),\n              onCaptureRequested: ($event: any) => (_ctx.runCapture(tube, $event)),\n              onCaptureRemoved: ($event: any) => (_ctx.removeCapture(tube, $event)),\n              onTubeRemoved: ($event: any) => (_ctx.removeTube(tube)),\n              onSmoothingFactorChanged: ($event: any) => (_ctx.changeSmoothingFactor(tube, $event)),\n              onPendingCaptureCanceled: ($event: any) => (_ctx.cancelPendingCapture(tube, $event)),\n              onCrashedCaptureRemoved: ($event: any) => (_ctx.removeCrashedCapture(tube, $event))\n            }, null, 8, [\"tube\", \"onSelectedCaptureChanged\", \"onCaptureRequested\", \"onCaptureRemoved\", \"onTubeRemoved\", \"onSmoothingFactorChanged\", \"onPendingCaptureCanceled\", \"onCrashedCaptureRemoved\"])\n          ]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ModalConfirm, {\n      body: \"Voulez vous vraiment supprimer tous les tubes ?\",\n      onConfirmed: _ctx.clearTubes,\n      onModalCreated: _cache[2] || (_cache[2] = ($event: any) => (this.clearTubesModal = $event))\n    }, null, 8, [\"onConfirmed\"]),\n    _createVNode(_component_ModalPromptText, {\n      title: \"Nouveau tube\",\n      onModalCreated: _cache[3] || (_cache[3] = ($event: any) => (this.newTubeModal = $event)),\n      onPromptDone: _ctx.createTube\n    }, {\n      default: _withCtx(() => [\n        _hoisted_10\n      ]),\n      _: 1\n    }, 8, [\"onPromptDone\"])\n  ], 64))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8555e2e6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"card\" }\nconst _hoisted_2 = { class: \"p-2\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1))\nconst _hoisted_4 = [\n  _hoisted_3\n]\nconst _hoisted_5 = { class: \"card-body p-2\" }\nconst _hoisted_6 = { class: \"card-text mb-2\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"flex-fill\" }, \"Nouvelle capture\", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-plus-circle\" }, null, -1))\nconst _hoisted_9 = [\n  _hoisted_7,\n  _hoisted_8\n]\nconst _hoisted_10 = { class: \"flex-fill p-2\" }\nconst _hoisted_11 = { class: \"form-check-label flex-fill d-flex gap-2 align-items-center\" }\nconst _hoisted_12 = [\"checked\", \"value\"]\nconst _hoisted_13 = [\"onClick\"]\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1))\nconst _hoisted_15 = [\n  _hoisted_14\n]\nconst _hoisted_16 = { class: \"defective_captures list-group\" }\nconst _hoisted_17 = { class: \"flex-fill p-2\" }\nconst _hoisted_18 = { class: \"flex-fill d-flex gap-2\" }\nconst _hoisted_19 = {\n  class: \"spinner-border spinner-border-sm text-primary\",\n  role: \"status\",\n  \"data-bs-toggle\": \"tooltip\",\n  \"data-bs-placement\": \"top\",\n  title: \"En attente\"\n}\nconst _hoisted_20 = { class: \"opacity-50\" }\nconst _hoisted_21 = [\"onClick\"]\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1))\nconst _hoisted_23 = [\n  _hoisted_22\n]\nconst _hoisted_24 = { class: \"flex-fill p-2\" }\nconst _hoisted_25 = { class: \"flex-fill d-flex gap-2\" }\nconst _hoisted_26 = [\"title\"]\nconst _hoisted_27 = { class: \"opacity-50\" }\nconst _hoisted_28 = {\n  class: \"btn-group\",\n  role: \"group\"\n}\nconst _hoisted_29 = [\"onClick\"]\nconst _hoisted_30 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-arrow-clockwise\" }, null, -1))\nconst _hoisted_31 = [\n  _hoisted_30\n]\nconst _hoisted_32 = [\"onClick\"]\nconst _hoisted_33 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"bi bi-trash\" }, null, -1))\nconst _hoisted_34 = [\n  _hoisted_33\n]\nconst _hoisted_35 = { class: \"card-footer\" }\nconst _hoisted_36 = { class: \"d-flex gap-2\" }\nconst _hoisted_37 = {\n  \"data-bs-toggle\": \"tooltip\",\n  \"data-bs-placement\": \"top\",\n  title: \"Détermine la correction de bruit sur les captures.\"\n}\nconst _hoisted_38 = /*#__PURE__*/_createTextVNode(\" Lissage \")\nconst _hoisted_39 = [\n  _hoisted_38\n]\nconst _hoisted_40 = [\"min\", \"max\", \"value\", \"disabled\"]\nconst _hoisted_41 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\"Entrez la \"),\n  /*#__PURE__*/_createElementVNode(\"b\", null, \"tension grille\"),\n  /*#__PURE__*/_createTextVNode(\" pour laquelle vous souhaitez effectuer la capture.\")\n], -1))\nconst _hoisted_42 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Appuyez sur ',' pour entrer une autre valeur de tension grille.\", -1))\nconst _hoisted_43 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"La tension grille sera implicitement négative.\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ModalPromptNumbers = _resolveComponent(\"ModalPromptNumbers\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", {\n        class: \"card-header p-0 d-flex justify-content-between\",\n        style: _normalizeStyle({'border-top': `0.35rem solid ${_ctx.setColor()}`})\n      }, [\n        _createElementVNode(\"h5\", _hoisted_2, _toDisplayString(_ctx.tube.name), 1),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"btn btn-outline-danger border-0\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.removeTube()))\n        }, _hoisted_4)\n      ], 4),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"p\", _hoisted_6, [\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"btn btn-outline-primary w-100 d-flex gap-2 align-items-center\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (this.promptCaptureModal.show()))\n          }, _hoisted_9)\n        ]),\n        _createElementVNode(\"ul\", {\n          class: _normalizeClass([\"list-group\", _ctx.tube.captures.size > 0 ? 'mb-2' : ''])\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tube.captures, ([uGrid, capture]) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              class: \"capture list-group-item d-flex p-0\",\n              key: uGrid\n            }, [\n              _createElementVNode(\"div\", _hoisted_10, [\n                _createElementVNode(\"label\", _hoisted_11, [\n                  _createElementVNode(\"input\", {\n                    type: \"radio\",\n                    checked: _ctx.tube.selectedUgrid === uGrid,\n                    value: uGrid,\n                    onChange: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.selectedCaptureChanged && _ctx.selectedCaptureChanged(...args)))\n                  }, null, 40, _hoisted_12),\n                  _createElementVNode(\"div\", null, _toDisplayString(capture.toString()), 1)\n                ])\n              ]),\n              _createElementVNode(\"button\", {\n                type: \"button\",\n                class: \"btn btn-outline-danger border-0\",\n                onClick: ($event: any) => (_ctx.removeCapture(uGrid))\n              }, _hoisted_15, 8, _hoisted_13)\n            ]))\n          }), 128))\n        ], 2),\n        _createElementVNode(\"ul\", _hoisted_16, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.defectiveCaptures, (capture, i) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              class: \"list-group-item d-flex p-0\",\n              key: i\n            }, [\n              (capture.errorMessage === null)\n                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _createElementVNode(\"div\", _hoisted_18, [\n                        _withDirectives(_createElementVNode(\"div\", _hoisted_19, null, 512), [\n                          [_directive_tooltip]\n                        ]),\n                        _createElementVNode(\"label\", _hoisted_20, \"-\" + _toDisplayString(capture.uGrid) + \"V\", 1)\n                      ])\n                    ]),\n                    _createElementVNode(\"button\", {\n                      type: \"button\",\n                      class: \"btn btn-outline-dark border-0\",\n                      onClick: ($event: any) => (_ctx.cancelPendingCapture(capture.uGrid))\n                    }, _hoisted_23, 8, _hoisted_21)\n                  ], 64))\n                : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                    _createElementVNode(\"div\", _hoisted_24, [\n                      _createElementVNode(\"div\", _hoisted_25, [\n                        _withDirectives(_createElementVNode(\"i\", {\n                          class: \"bi bi-exclamation-triangle-fill text-danger\",\n                          title: capture.errorMessage\n                        }, null, 8, _hoisted_26), [\n                          [_directive_tooltip]\n                        ]),\n                        _createElementVNode(\"label\", _hoisted_27, \"-\" + _toDisplayString(capture.uGrid) + \"V\", 1)\n                      ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_28, [\n                      _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"btn btn-outline-dark border-0\",\n                        onClick: ($event: any) => (_ctx.retryCrashedCapture(capture.uGrid))\n                      }, _hoisted_31, 8, _hoisted_29),\n                      _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"btn btn-outline-dark border-0\",\n                        onClick: ($event: any) => (_ctx.removeCrashedCapture(capture.uGrid))\n                      }, _hoisted_34, 8, _hoisted_32)\n                    ])\n                  ], 64))\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_35, [\n        _createElementVNode(\"label\", _hoisted_36, [\n          _withDirectives((_openBlock(), _createElementBlock(\"span\", _hoisted_37, _hoisted_39)), [\n            [_directive_tooltip]\n          ]),\n          _createElementVNode(\"input\", {\n            type: \"range\",\n            class: \"form-range\",\n            min: _ctx.minSmoothingFactor,\n            max: _ctx.maxSmoothingFactor,\n            value: _ctx.tube.smoothingFactor,\n            disabled: !_ctx.tube.canChangeSmoothingFactor() || _ctx.pendingCaptures.length > 0,\n            onChange: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.smoothingFactorChanged && _ctx.smoothingFactorChanged(...args)))\n          }, null, 40, _hoisted_40)\n        ])\n      ])\n    ]),\n    _createVNode(_component_ModalPromptNumbers, {\n      title: \"Nouvelle capture\",\n      sign: \"-\",\n      onModalCreated: _cache[4] || (_cache[4] = ($event: any) => (this.promptCaptureModal = $event)),\n      onPromptDone: _ctx.runCaptures\n    }, {\n      default: _withCtx(() => [\n        _hoisted_41,\n        _hoisted_42,\n        _hoisted_43\n      ]),\n      _: 1\n    }, 8, [\"onPromptDone\"])\n  ], 64))\n}","\nimport { defineComponent } from 'vue';\nimport ModelTube, { minSmoothingFactor, maxSmoothingFactor } from '@/model/ModelTube';\nimport ModalPromptNumbers from '@/components/ModalPromptNumbers.vue';\nimport { Color } from '@/Color';\nimport { Modal } from 'bootstrap';\n\ninterface DefectiveCapture {\n  uGrid: number,\n  errorMessage: string | null,\n}\n\nexport default defineComponent({\n  name: 'Tube',\n  components: {\n    ModalPromptNumbers,\n  },\n  emits: [\n    'selectedCaptureChanged',\n    'captureRequested',\n    'captureRemoved',\n    'tubeRemoved',\n    'smoothingFactorChanged',\n    'pendingCaptureCanceled',\n    'crashedCaptureRemoved',\n  ],\n  props: {\n    tube: ModelTube,\n  },\n  data: () => ({\n    minSmoothingFactor,\n    maxSmoothingFactor,\n    promptCaptureModal: null as Modal | null,\n  }),\n  computed: {\n    // Gathers both pending and crashed captures in a sorted fashion\n    defectiveCaptures() {\n      // First, get all the pending captures and add them a null errorMessage field\n      let allDefective = this.pendingCaptures.map((uGrid) => ({\n        uGrid,\n        errorMessage: null,\n      } as DefectiveCapture));\n\n      // Then, concats all the crashedCaptures\n      allDefective = allDefective.concat(this.crashedCaptures);\n\n      // Finally, sorts along uGrid\n      allDefective.sort((a, b) => a.uGrid - b.uGrid);\n      return allDefective;\n    },\n    pendingCaptures() {\n      if (this.tube === undefined) {\n        return [];\n      }\n      const queue = this.$store.state.captureModule.waitingQueue;\n      return queue.filter(\n        (job) => job.tube === this.tube,\n      ).map((job) => job.uGrid);\n    },\n    crashedCaptures() {\n      if (this.tube === undefined) {\n        return [];\n      }\n      const { graveyard } = this.$store.state.captureModule;\n      return graveyard.filter(\n        (log) => log.job.tube === this.tube,\n      ).map((log) => ({\n        uGrid: log.job.uGrid,\n        errorMessage: log.error,\n      } as DefectiveCapture));\n    },\n  },\n  methods: {\n    runCaptures(uGrids: number[]): void {\n      uGrids.forEach((uGrid: number) => {\n        this.$emit('captureRequested', uGrid);\n      });\n    },\n    removeCapture(uGrid: number): void {\n      this.$emit('captureRemoved', uGrid);\n    },\n    removeTube(): void {\n      this.$emit('tubeRemoved');\n    },\n    selectedCaptureChanged(evt: Event): void {\n      const newValue = Number.parseFloat((evt.target as any).value);\n      this.$emit('selectedCaptureChanged', newValue);\n    },\n    smoothingFactorChanged(evt: Event): void {\n      const newValue = Number.parseInt((evt.target as any).value, 10);\n      this.$emit('smoothingFactorChanged', newValue);\n    },\n    setColor() {\n      let stringColor = 'rgba(0, 0, 0, 1)';\n      if (this.tube !== undefined) {\n        stringColor = (this.$store.state.tubeColors.get(this.tube) as Color).toString();\n      }\n      return stringColor;\n    },\n    cancelPendingCapture(uGrid: number): void {\n      this.$emit('pendingCaptureCanceled', uGrid);\n    },\n    removeCrashedCapture(uGrid: number): void {\n      this.$emit('crashedCaptureRemoved', uGrid);\n    },\n    retryCrashedCapture(uGrid: number): void {\n      this.$emit('captureRequested', uGrid);\n    },\n  },\n});\n","import { render } from \"./Tube.vue?vue&type=template&id=8555e2e6&scoped=true&ts=true\"\nimport script from \"./Tube.vue?vue&type=script&lang=ts\"\nexport * from \"./Tube.vue?vue&type=script&lang=ts\"\n\nimport \"./Tube.vue?vue&type=style&index=0&id=8555e2e6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8555e2e6\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderSlot as _renderSlot, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"modal-header\" }\nconst _hoisted_2 = { class: \"modal-title\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\"\n}, null, -1)\nconst _hoisted_4 = { class: \"modal-body\" }\nconst _hoisted_5 = { class: \"modal-footer\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n}, \" Annuler \", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ModalPopup = _resolveComponent(\"ModalPopup\")!\n\n  return (_openBlock(), _createBlock(_component_ModalPopup, {\n    onModalCreated: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('modalCreated', $event))),\n    onEnterPressed: _ctx.sendResult,\n    onShow: _ctx.resetInput,\n    onShown: _ctx.focusInput\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"h5\", _hoisted_2, _toDisplayString(_ctx.title), 1),\n        _hoisted_3\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _renderSlot(_ctx.$slots, \"default\"),\n        _withDirectives(_createElementVNode(\"input\", {\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.text) = $event)),\n          type: \"text\",\n          class: \"form-control\",\n          ref: \"textInput\"\n        }, null, 512), [\n          [_vModelText, _ctx.text]\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _hoisted_6,\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary\",\n          \"data-bs-dismiss\": \"modal\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.sendResult()))\n        }, \" Oui \")\n      ])\n    ]),\n    _: 3\n  }, 8, [\"onEnterPressed\", \"onShow\", \"onShown\"]))\n}","\nimport { defineComponent } from 'vue';\nimport ModalPopup from '@/components/ModalPopup.vue';\n\nexport default defineComponent({\n  name: 'ModalPromptText',\n  components: {\n    ModalPopup,\n  },\n  emits: [\n    'modalCreated',\n    'promptDone',\n  ],\n  props: {\n    title: String,\n  },\n  data: () => ({\n    text: '' as string,\n  }),\n  methods: {\n    resetInput() {\n      this.text = '';\n    },\n    focusInput() {\n      const textInput = (this.$refs.textInput as HTMLInputElement);\n      textInput.focus();\n    },\n    sendResult() {\n      this.$emit('promptDone', this.text);\n    },\n  },\n});\n","import { render } from \"./ModalPromptText.vue?vue&type=template&id=c02fbd1a&ts=true\"\nimport script from \"./ModalPromptText.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalPromptText.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport Tube from '@/components/Tube.vue';\nimport ModelTube from '@/model/ModelTube';\nimport ModalConfirm from '@/components/ModalConfirm.vue';\nimport ModalPromptText from '@/components/ModalPromptText.vue';\nimport { Modal } from 'bootstrap';\n\nexport default defineComponent({\n  name: 'TubesList',\n  components: {\n    Tube,\n    ModalConfirm,\n    ModalPromptText,\n  },\n  data: () => ({\n    clearTubesModal: null as Modal | null,\n    newTubeModal: null as Modal | null,\n  }),\n  computed: {\n    tubes(): ModelTube[] {\n      return this.$store.state.tubes;\n    },\n  },\n  methods: {\n    createTube(name: string): void {\n      const tube: ModelTube = new ModelTube(name);\n      this.$store.dispatch('ADD_TUBE', { tube });\n    },\n    addTube(): void {\n      const tubeName = prompt('Nom du tube');\n      if (tubeName !== null) {\n        const tube: ModelTube = new ModelTube(tubeName);\n        this.$store.dispatch('ADD_TUBE', { tube });\n      }\n    },\n    clearTubes(): void {\n      this.$store.dispatch('EMPTY_TUBES');\n    },\n    selectCaptureTube(tube: ModelTube, uGrid: number) {\n      this.$store.dispatch('SELECT_CAPTURE_TUBE', { tube, uGrid });\n    },\n    runCapture(tube: ModelTube, uGrid: number) {\n      this.$store.dispatch('CREATE_CAPTURE_ASYNC', {\n        tube,\n        uGrid,\n      });\n    },\n    removeCapture(tube: ModelTube, uGrid: number) {\n      this.$store.dispatch('DELETE_CAPTURE', {\n        tube,\n        uGrid,\n      });\n    },\n    removeTube(tube: ModelTube) {\n      this.$store.dispatch('REMOVE_TUBE', { tube });\n    },\n    changeSmoothingFactor(tube: ModelTube, smoothingFactor: number) {\n      this.$store.dispatch('CHANGE_SMOOTHING_FACTOR', { tube, smoothingFactor });\n    },\n    cancelPendingCapture(tube: ModelTube, uGrid: number) {\n      this.$store.dispatch('CANCEL_PENDING_CAPTURE', {\n        tube,\n        uGrid,\n      });\n    },\n    removeCrashedCapture(tube: ModelTube, uGrid: number) {\n      this.$store.dispatch('REMOVE_CRASHED_CAPTURE', {\n        tube,\n        uGrid,\n      });\n    },\n  },\n});\n","import { render } from \"./TubesList.vue?vue&type=template&id=3734bcca&scoped=true&ts=true\"\nimport script from \"./TubesList.vue?vue&type=script&lang=ts\"\nexport * from \"./TubesList.vue?vue&type=script&lang=ts\"\n\nimport \"./TubesList.vue?vue&type=style&index=0&id=3734bcca&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3734bcca\"]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport Chart from '@/components/Chart.vue';\nimport MeasurementsList from '@/components/MeasurementsList.vue';\nimport TubesList from '@/components/TubesList.vue';\n\nexport default defineComponent({\n  name: 'Workspace',\n  components: {\n    Chart,\n    MeasurementsList,\n    TubesList,\n  },\n  computed: {\n    notes: {\n      get() {\n        return this.$store.state.notes;\n      },\n      set(value: string) {\n        this.$store.dispatch('SET_NOTES', { newNotes: value });\n      },\n    },\n  },\n  methods: {\n    addMeasurement(uAnode: number) {\n      this.$store.dispatch('ADD_MEASUREMENT', { uAnode });\n    },\n    removeMeasurement(uAnode: number) {\n      this.$store.dispatch('REMOVE_MEASUREMENT', { uAnode });\n    },\n  },\n});\n","import { render } from \"./Workspace.vue?vue&type=template&id=21fcc49c&scoped=true&ts=true\"\nimport script from \"./Workspace.vue?vue&type=script&lang=ts\"\nexport * from \"./Workspace.vue?vue&type=script&lang=ts\"\n\nimport \"./Workspace.vue?vue&type=style&index=0&id=21fcc49c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21fcc49c\"]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport HeaderBar from '@/components/HeaderBar.vue';\nimport Workspace from '@/components/Workspace.vue';\nimport { Toast } from 'bootstrap';\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    Workspace,\n    HeaderBar,\n  },\n  data: () => ({\n    toast: null as Toast | null,\n    errorMessage: '' as string,\n    errorSource: '' as string,\n  }),\n  mounted() {\n    const toastElement = this.$refs.errorToast as HTMLDivElement;\n    this.toast = new Toast(toastElement);\n  },\n  methods: {\n    triggerError(payload: any) {\n      const { errorMessage, errorSource } = payload;\n      this.errorMessage = errorMessage;\n      this.errorSource = errorSource;\n      if (this.toast !== null) {\n        this.toast.show();\n      }\n    },\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=04873844&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/nbusser/projets/lampemetre/vue/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-await-in-loop */\n/* eslint-disable no-bitwise */\n\nconst writeByteSerial = async (\n  serialWriter: WritableStreamDefaultWriter<Uint8Array>, value: number,\n): Promise<void> => {\n  const data = new Uint8Array([value]);\n  await serialWriter.write(data);\n};\n\nconst readBytesSerial = async (\n  serialReader: ReadableStreamDefaultReader<Uint8Array>, nBytes: number,\n) : Promise<number[]> => {\n  let i = 0;\n  const readBuffer = [];\n  while (i < nBytes) {\n    const { value } = await serialReader.read();\n\n    if (!value) {\n      throw Error('read value is empty');\n    }\n\n    for (let j = 0; j < value.length; j += 1) {\n      readBuffer.push(value[j]);\n    }\n    i += value.length;\n  }\n  return readBuffer;\n};\n\nconst readBytesSerialWithTimeout = (\n  serialReader: ReadableStreamDefaultReader<Uint8Array>, nBytes: number, timeout: number,\n): Promise<number[]> => new Promise((resolve, reject) => {\n  readBytesSerial(serialReader, nBytes).then(resolve, reject);\n  setTimeout(() => { reject(Error('Timeout while reading')); }, timeout);\n});\n\nconst readBytesSerialPackUint16 = async (\n  serialReader: ReadableStreamDefaultReader<Uint8Array>, nBytes: number, timeout: number,\n): Promise<number[]> => {\n  if (nBytes % 2 !== 0) {\n    throw Error('n_bytes must be even to pack reading result in 16-bits words');\n  }\n\n  const readBuffer = await readBytesSerialWithTimeout(serialReader, nBytes, timeout);\n\n  const uint16Values = [];\n  for (let i = 0; i < readBuffer.length; i += 2) {\n    const val = (readBuffer[i] << 8) + readBuffer[i + 1];\n    uint16Values.push(val);\n  }\n\n  return uint16Values;\n};\n\nconst acquireTensionsAnode = async (\n  serialReader: ReadableStreamDefaultReader<Uint8Array>,\n  serialWriter: WritableStreamDefaultWriter<Uint8Array>,\n): Promise<number[]> => {\n  let readBuffer = [];\n  try {\n    await writeByteSerial(serialWriter, 101);\n\n    const bytesToRead = 128;\n    readBuffer = await readBytesSerialPackUint16(serialReader, bytesToRead, 1500);\n  } catch {\n    throw Error('Impossible d\\'obtenir les valeurs de tension anode');\n  }\n\n  const uAnodeSamples = [];\n  for (let i = 0; i < readBuffer.length; i += 1) {\n    const voltage = Math.round(readBuffer[i] * 4.6875) / 10;\n    uAnodeSamples.push(voltage);\n  }\n\n  return uAnodeSamples;\n};\n\nexport enum SamplingMode {\n  AN1,\n  AN2,\n}\n\nconst acquireCurrentCathode = async (\n  serialReader: ReadableStreamDefaultReader<Uint8Array>,\n  serialWriter: WritableStreamDefaultWriter<Uint8Array>,\n  uGrid: number,\n  samplingMode: SamplingMode,\n): Promise<number[]> => {\n  const iCathodeSample = [];\n  try {\n    // The value \"scale\" depends on the sampling mode\n    const samplingMultiplier = samplingMode === SamplingMode.AN1 ? (1 / 32) : (1 / 4);\n\n    const uGridToSend = 150 + (uGrid * 2);\n\n    await writeByteSerial(serialWriter, uGridToSend);\n\n    const bytesToRead = 128;\n    const readBuffer = await readBytesSerialPackUint16(serialReader, bytesToRead, 15000);\n    for (let i = 0; i < readBuffer.length; i += 1) {\n      const current = readBuffer[i] * samplingMultiplier;\n      iCathodeSample.push(current);\n    }\n  } catch (error) {\n    alert(error);\n    throw Error('Impossible d\\'obtenir les valeurs d\\'intensité cathode');\n  }\n\n  return iCathodeSample;\n};\n\nconst getSerialConnection = async (): Promise<SerialPort> => {\n  // Get all serial ports the user has previously granted the website access to.\n  const ports = await navigator.serial.getPorts();\n  let serialConnection;\n\n  if (ports.length > 0) {\n    [serialConnection] = ports;\n  } else {\n    // Filter on devices with the valid USB Vendor/Product IDs.\n    const filters = [\n      { usbVendorId: 0x0403, usbProductId: 0x6001 },\n    ];\n\n    // Prompt user to select a device matching filters.\n    serialConnection = await navigator.serial.requestPort({ filters });\n  }\n\n  // Wait for the serial port to open.\n  await serialConnection.open({\n    baudRate: 2400,\n    dataBits: 8,\n    stopBits: 2,\n    parity: 'none',\n  });\n\n  return serialConnection;\n};\n\nexport type CaptureData = {\n  tensionsAnode: number[],\n  currentsCathode: number[],\n};\n\nconst captureSerial = async (\n  serialReader: ReadableStreamDefaultReader<Uint8Array>,\n  serialWriter: WritableStreamDefaultWriter<Uint8Array>,\n  uGrid: number, samplingMode: SamplingMode,\n): Promise<CaptureData> => {\n  const tensionsAnode = await acquireTensionsAnode(serialReader, serialWriter);\n\n  const sampling = samplingMode === SamplingMode.AN1 ? 32 : 50;\n\n  await writeByteSerial(serialWriter, sampling);\n\n  const currentsCathode = await acquireCurrentCathode(\n    serialReader, serialWriter, uGrid, samplingMode,\n  );\n\n  await writeByteSerial(serialWriter, 105);\n\n  return { tensionsAnode, currentsCathode };\n};\n\nexport const performCapture = async (\n  uGrid: number, slidingFactor: number,\n): Promise<CaptureData> => {\n  const serialConnection: SerialPort = await getSerialConnection();\n\n  const serialReader = (<ReadableStream<Uint8Array>>serialConnection.readable).getReader();\n  const serialWriter = (<WritableStream<Uint8Array>>serialConnection.writable).getWriter();\n\n  let captureData: CaptureData;\n  let tensionsAnode: number[];\n  let currentsCathodeRaw: number[];\n\n  try {\n    // Perform capture once in sampling mode AN1 (Imax < 32mA)\n    captureData = await captureSerial(\n      serialReader, serialWriter, uGrid, SamplingMode.AN1,\n    );\n    tensionsAnode = captureData.tensionsAnode;\n    currentsCathodeRaw = captureData.currentsCathode;\n\n    // Counts the number of values being arround max capturable value 32mA\n    const epsilon = 0.1;\n    const edge = currentsCathodeRaw.filter((current) => Math.abs(current - 32) < epsilon);\n    if (edge.length >= 5) {\n      // If this number exceeds 5, performs a second capture with sampling mode AN2\n      captureData = await captureSerial(\n        serialReader, serialWriter, uGrid, SamplingMode.AN2,\n      );\n      tensionsAnode = captureData.tensionsAnode;\n      currentsCathodeRaw = captureData.currentsCathode;\n    }\n  } finally {\n    serialReader.cancel();\n    serialReader.releaseLock();\n\n    await serialWriter.close();\n\n    await serialConnection.close();\n  }\n\n  // Sliding window average\n  const k = slidingFactor;\n  const currentsCathode = [];\n  for (let i = 0; i < currentsCathodeRaw.length - k; i += 1) {\n    const a = Math.max(0, i - k);\n    const b = Math.min(currentsCathodeRaw.length - 1, i + k);\n\n    const avg = currentsCathodeRaw.slice(a, b + 1)\n      .reduce((prev, curr) => prev + curr, 0) / (b - a + 1);\n    currentsCathode.push(\n      avg,\n    );\n  }\n\n  return { tensionsAnode, currentsCathode };\n};\n\nconst detectErrorTest = (\n  array: number[],\n  refValue: number,\n  tolerance: number,\n  toleranceBeta: number,\n) => {\n  let errorVal;\n  for (let i = 0; i < array.length; i += 1) {\n    const element = array[i];\n    if (Math.abs(refValue - element) > tolerance * refValue + toleranceBeta) {\n      errorVal = element;\n      break;\n    }\n  }\n  return errorVal;\n};\n\nexport const performTest = async (): Promise<void> => {\n  const serialConnection: SerialPort = await getSerialConnection();\n\n  if (serialConnection.readable === null || serialConnection.writable === null) {\n    throw Error('Something went wrong during opening of serial port');\n  }\n\n  const serialReader = serialConnection.readable.getReader();\n  const serialWriter = serialConnection.writable.getWriter();\n\n  const uAnodeMax = [];\n  const iCathode32 = [];\n  const iCathode256 = [];\n  const uGrid = [];\n\n  try {\n    writeByteSerial(serialWriter, 124);\n\n    let toReadCommands = 20;\n    const leftovers = [];\n\n    while (toReadCommands > 0) {\n      const readBuffer: number[] = await readBytesSerialWithTimeout(\n        serialReader, 3 - leftovers.length, 500,\n      );\n      leftovers.push(...readBuffer);\n      while (leftovers.length / 3 >= 1) {\n        toReadCommands -= 1;\n        const received = leftovers.splice(0, 3);\n\n        const category = received[0];\n        const value = (received[1] << 8) + received[2];\n\n        switch (category) {\n          case 126:\n            uAnodeMax.push(value * 0.46875);\n            break;\n          case 151:\n            iCathode32.push(value * 0.03125);\n            break;\n          case 111:\n            iCathode256.push(value * 0.25);\n            break;\n          case 107:\n            uGrid.push(value);\n            break;\n          default:\n            throw new Error('Le programme a recu une mesure de test invalide');\n        }\n      }\n    }\n  } finally {\n    await writeByteSerial(serialWriter, 0);\n\n    serialReader.cancel();\n    serialReader.releaseLock();\n\n    await serialWriter.close();\n\n    await serialConnection.close();\n  }\n\n  let diagnosticMessage = 'Test terminé\\n';\n\n  const uAnodeRef = 280;\n  const uAnodeError = detectErrorTest(uAnodeMax, uAnodeRef, 0.05, 0);\n\n  const iCathode32Ref = 0;\n  const i32CathodeError = detectErrorTest(iCathode32, iCathode32Ref, 0, 0.5);\n\n  const iCathode256Ref = 0;\n  const i256CathodeError = detectErrorTest(iCathode256, iCathode256Ref, 0, 0.5);\n\n  const uGridRef = 31;\n  const uGridError = detectErrorTest(uGrid, uGridRef, 0, 0);\n\n  if (!(uAnodeError || i32CathodeError || i256CathodeError || uGridError)) {\n    diagnosticMessage += 'Aucune anomalie à signaler';\n  } else {\n    diagnosticMessage += 'Anomalies détectées:\\n';\n\n    if (uAnodeError) {\n      diagnosticMessage += `-Tension plaque max: ${uAnodeError} capturé (tension de référence ${uAnodeRef}V)\\n`;\n    }\n    if (i32CathodeError) {\n      diagnosticMessage += `-Intensité cathode 32mA: ${i32CathodeError} capturé (intensité de référence ${iCathode32Ref}mA)\\n`;\n    }\n    if (i256CathodeError) {\n      diagnosticMessage += `-Intensité cathode 32mA: ${i256CathodeError} capturé (intensité de référence ${iCathode256Ref}mA)\\n`;\n    }\n    if (uGridError) {\n      diagnosticMessage += `-Tension grille: -${uGridError} capturé (tension de référence -${uGridRef}V)\\n`;\n    }\n  }\n  alert(diagnosticMessage);\n};\n","import { Mutex } from 'async-mutex';\nimport CaptureJob from './CaptureJob';\nimport ModelTube from './model/ModelTube';\nimport { CaptureData, performCapture } from './Serial';\nimport Timer from './Timer';\n\n/*\n * This class handles concurrent jobs for capturing data\n * It handles thread safe job creation and cancelation\n*/\n\ninterface CrashLog {\n  job: CaptureJob,\n  error: string,\n}\n\nexport default class CaptureModule {\n  // Job queue\n  public waitingQueue: CaptureJob[] = [];\n\n  public graveyard: CrashLog[] = [];\n\n  // Only one job can use the serial communication to capture data\n  private serialMutex: Mutex = new Mutex();\n\n  // Only one thread can read/write the job queue\n  // Actually useless since Javascript is single threaded\n  private queueMutex: Mutex = new Mutex();\n\n  private timer: Timer;\n\n  constructor(timer: Timer) {\n    this.timer = timer;\n  }\n\n  // If a crash has been reported\n  private async reportCrash(job: CaptureJob, errorMessage: string): Promise<void> {\n    // First, we set the job as done\n    const canceled = await this.jobDone(job);\n    // If the job have been canceled, we do not put anything in the graveyard\n    if (!canceled) {\n      // We try to find a similar previous job fail\n      const logIndex = this.graveyard.findIndex(\n        (log: CrashLog) => log.job.equals(job),\n      );\n      // If such log exists, we just update the error message\n      if (logIndex !== -1) {\n        this.graveyard[logIndex].error = errorMessage;\n      } else {\n        // Otherwise, we create a brand new log\n        this.graveyard.push({\n          job,\n          error: errorMessage,\n        });\n      }\n    }\n  }\n\n  // Remove the crash report related to the job, if it exists\n  removeCrashReport(job: CaptureJob): void {\n    const logIndex = this.graveyard.findIndex(\n      (log: CrashLog) => log.job.equals(job),\n    );\n    if (logIndex !== -1) {\n      this.graveyard.splice(logIndex, 1);\n    }\n  }\n\n  private indexJob(job: CaptureJob): number {\n    return this.waitingQueue.findIndex(\n      (otherJob) => job.equals(otherJob),\n    );\n  }\n\n  private async hasBeenCanceled(job: CaptureJob): Promise<boolean> {\n    const queueMutexRelease = await this.queueMutex.acquire();\n    try {\n      return await this.indexJob(job) === -1;\n    } finally {\n      queueMutexRelease();\n    }\n  }\n\n  // Enqueues job if a similar job have not been set before\n  private async enqueueJob(job: CaptureJob): Promise<boolean> {\n    const queueMutexRelease = await this.queueMutex.acquire();\n    try {\n      // Only create the job if it doesn't exist yet\n      const index = this.indexJob(job);\n      if (index === -1) {\n        this.waitingQueue.push(job);\n        return true;\n      }\n      return false;\n    } finally {\n      queueMutexRelease();\n    }\n  }\n\n  // Ran internally when the job is done\n  // Returns true if the job have been canceled while execution\n  private async jobDone(job: CaptureJob): Promise<boolean> {\n    const queueMutexRelease = await this.queueMutex.acquire();\n    try {\n      const index = this.indexJob(job);\n      if (index === -1) {\n        return true; // Job already been canceled\n      }\n      // Job has not been canceled\n      // We remove it from the job list\n      this.waitingQueue.splice(index, 1);\n      return false;\n    } finally {\n      queueMutexRelease();\n    }\n  }\n\n  async flushJobsTube(tube: ModelTube): Promise<void> {\n    const queueMutexRelease = await this.queueMutex.acquire();\n    try {\n      this.waitingQueue = this.waitingQueue.filter((job: CaptureJob) => job.tube !== tube);\n      this.graveyard = this.graveyard.filter((log: CrashLog) => log.job.tube === tube);\n    } finally {\n      queueMutexRelease();\n    }\n  }\n\n  // Called from the outside to cancel a running (or not) job\n  async cancelJob(job: CaptureJob): Promise<void> {\n    const queueMutexRelease = await this.queueMutex.acquire();\n    try {\n      const index = this.indexJob(job);\n\n      // The job could be already dequeued\n      // Then, it is too late to cancel, the capture is already done\n      if (index !== -1) {\n        // Removes the job from the list\n        this.waitingQueue.splice(index, 1);\n      }\n    } finally {\n      queueMutexRelease();\n    }\n  }\n\n  // Called from the outside to add a CaptureJob to the module\n  async doCapture(job: CaptureJob): Promise<CaptureData | null> {\n    const created = await this.enqueueJob(job);\n    // If the job already exists, exits\n    if (!created) {\n      return null;\n    }\n\n    // If an error log exists for this capture, remove it\n    this.removeCrashReport(job);\n\n    // Returns null if the job have been canceled\n    let result: CaptureData | null = null;\n\n    let canceled = await this.hasBeenCanceled(job);\n    while (!canceled && result === null) {\n      const serialMutexRelease = await this.serialMutex.acquire();\n      try {\n        // We are first in the queue and the timer is not running\n        if (this.indexJob(job) === 0 && this.timer.isOver()) {\n          // Performs the serial capture\n          result = await performCapture(job.uGrid, job.tube.smoothingFactor);\n          // Dequeue job and checks if the job have been cancel while we captured\n          canceled = await this.jobDone(job);\n          if (canceled) {\n            result = null;\n          }\n        } else {\n          // Could not run the capture yet\n          // Checks if the job was canceled\n          canceled = await this.hasBeenCanceled(job);\n\n          // Add asynchronism to avoid famine when timer is not 0\n          if (!canceled) {\n            await new Promise((resolve) => setTimeout(resolve, 200));\n          }\n        }\n      } catch (e: any) {\n        await this.reportCrash(job, e.message);\n        return null;\n      } finally {\n        serialMutexRelease();\n      }\n    }\n    return result;\n  }\n}\n","import CaptureModule from '@/CaptureModule';\nimport { Color } from '@/Color';\nimport Timer from '@/Timer';\nimport ModelTube from '@/model/ModelTube';\nimport { reactive } from '@vue/reactivity';\n\n// Used to guarantee reactivity when variables are internally changed\nconst timer = reactive(new Timer());\ntimer.initInterval();\n\nexport const state = {\n  tubes: [] as ModelTube[],\n  measurements: new Set() as Set<number>,\n\n  tubeColors: new Map() as Map<ModelTube, Color>,\n  measurementsColors: new Map() as Map<number, Color>,\n\n  timer,\n  captureModule: new CaptureModule(timer) as CaptureModule,\n\n  notes: 'Tension grille 2: ' as string,\n};\n\nexport type State = typeof state;\n","import { GetterTree } from 'vuex';\nimport { State } from './state';\n\nexport type Getters = {\n};\n\nexport const getters: GetterTree<State, State> & Getters = {\n};\n","export class Color {\n  public red: number;\n\n  public green: number;\n\n  public blue: number;\n\n  public transparency: number;\n\n  constructor(red:number, green:number, blue:number, transparency: number) {\n    this.red = red;\n    this.green = green;\n    this.blue = blue;\n    this.transparency = transparency;\n  }\n\n  toString(): string {\n    return `rgba(${this.red},${this.green},${this.blue},${this.transparency})`;\n  }\n\n  equals(c: Color): boolean {\n    return (this.red === c.red\n      && this.green === c.green\n      && this.blue === c.blue\n      && this.transparency === c.transparency);\n  }\n}\n\nexport const colorBible: Color[] = [\n  new Color(66, 165, 245, 1.0), // Blue\n  new Color(255, 23, 68, 1.0), // Red\n  new Color(0, 191, 165, 1.0), // Teal\n  new Color(255, 234, 0, 1.0), // Yellow Sun\n  new Color(248, 187, 208, 1.0), // Pink\n  new Color(0, 229, 255, 1.0), // Cyan\n  new Color(118, 255, 3, 1.0), // Light Green\n  new Color(213, 0, 249, 1.0), // Purple\n  new Color(48, 79, 254, 1.0), // Indigo\n  new Color(105, 240, 174, 1.0), // Green\n  new Color(255, 145, 0, 1.0), // Orange\n  new Color(98, 0, 234, 1.0), // Deep Purple\n  new Color(129, 212, 250, 1.0), // Light Blue\n  new Color(192, 202, 51, 1.0), // Lime\n  new Color(141, 110, 99, 1.0), // Brown\n  new Color(84, 110, 122, 1.0), // Blue Grey\n];\n\nexport const pastelColorBible: Color[] = [\n  new Color(0, 0, 255, 0.4), // Blue\n  new Color(255, 0, 0, 0.4), // Red\n  new Color(0, 128, 21, 0.4), // Dark green\n  new Color(77, 0, 153, 0.4), // Purple\n  new Color(230, 191, 0, 0.4), // Orange\n  new Color(93, 206, 216, 0.4), // Cyan\n  new Color(93, 216, 165, 0.4), // Pale green\n  new Color(252, 126, 233, 0.4), // Pink\n  new Color(130, 69, 5, 0.4), // Brown\n];\n","import { Stack } from 'stack-typescript';\nimport { Color } from '@/Color';\n\nexport const defaultColor = new Color(0, 0, 0, 1.0);\n\nexport default class ColorStack extends Stack<Color> {\n  pop(): Color {\n    if (this.size === 0) {\n      return defaultColor;\n    }\n    return super.pop();\n  }\n\n  push(c: Color): void {\n    if (!c.equals(defaultColor)) {\n      super.push(c);\n    }\n  }\n}\n","import ModelTube from './model/ModelTube';\n\nexport default class CaptureJob {\n  public tube: ModelTube;\n\n  public uGrid: number;\n\n  constructor(tube: ModelTube, uGrid: number) {\n    this.tube = tube;\n    this.uGrid = uGrid;\n  }\n\n  equals(j: CaptureJob): boolean {\n    return this.tube === j.tube && this.uGrid === j.uGrid;\n  }\n}\n","import { MutationTree } from 'vuex';\nimport { Color, colorBible, pastelColorBible } from '@/Color';\nimport ColorStack from '@/ColorStack';\nimport CaptureJob from '@/CaptureJob';\nimport ModelTube from '../model/ModelTube';\nimport { Mutations } from './mutation-types';\nimport { State } from './state';\n\nconst brandNewColorStack = () : ColorStack => new ColorStack(...colorBible);\nconst brandNewPastelColorStack = () : ColorStack => new ColorStack(...pastelColorBible);\n\nlet tubeColorStack: ColorStack = brandNewColorStack();\nlet measurementsColorStack: ColorStack = brandNewPastelColorStack();\n\nconst mutations: MutationTree<State> & Mutations = {\n  EMPTY_TUBES(state) {\n    state.tubes = [];\n    state.tubeColors.clear();\n    tubeColorStack = brandNewColorStack();\n  },\n  ADD_TUBE(state, tube: ModelTube) {\n    state.tubes.push(tube);\n\n    state.tubeColors.set(tube, tubeColorStack.pop());\n  },\n  REMOVE_TUBE(state, tube: ModelTube) {\n    const tubeIndex = state.tubes.findIndex((t) => t === tube);\n    if (tubeIndex !== -1) {\n      state.tubes.splice(tubeIndex, 1);\n\n      const color: Color = state.tubeColors.get(tube) as Color;\n      state.tubeColors.delete(tube);\n\n      tubeColorStack.push(color);\n\n      // Ran asynchronously\n      state.captureModule.flushJobsTube(tube);\n    }\n  },\n  CREATE_TUBE(state, name: string) {\n    this.ADD_TUBE(state, new ModelTube(name));\n  },\n\n  CREATE_CAPTURE(\n    state,\n    payload: {\n      tube: ModelTube,\n      uAnode: number[],\n      uGrid: number,\n      iCathode: number[]\n    },\n  ) {\n    const foundTube = state.tubes.find((t: ModelTube) => t === payload.tube);\n    if (foundTube === undefined) { return; }\n    foundTube.createCapture(payload.uAnode, payload.uGrid, payload.iCathode);\n  },\n\n  DELETE_CAPTURE(\n    state,\n    payload: {\n      tube: ModelTube,\n      uGrid: number\n    },\n  ) {\n    const foundTube = state.tubes.find((t: ModelTube) => t === payload.tube);\n    if (foundTube === undefined) { return; }\n    foundTube.deleteCaptureByUgrid(payload.uGrid);\n  },\n\n  SELECT_CAPTURE_TUBE(\n    state,\n    {\n      tube,\n      uGrid,\n    },\n  ) {\n    const foundTube = state.tubes.find((t: ModelTube) => t === tube);\n    if (foundTube === undefined) { return; }\n    const capture = foundTube.captures.get(uGrid);\n    if (capture === undefined) { return; }\n    foundTube.changeSelectedUgrid(uGrid);\n  },\n  CHANGE_SMOOTHING_FACTOR(state, {\n    tube,\n    smoothingFactor,\n  }) {\n    const foundTube = state.tubes.find((t: ModelTube) => t === tube);\n    if (foundTube === undefined) { return; }\n    foundTube.changeSmoothingFactor(smoothingFactor);\n  },\n  ADD_MEASUREMENT(state, uAnode: number) {\n    if (!state.measurements.has(uAnode)) {\n      state.measurements.add(uAnode);\n\n      state.measurementsColors.set(uAnode, measurementsColorStack.pop());\n    }\n  },\n  REMOVE_MEASUREMENT(state, uAnode: number) {\n    state.measurements.delete(uAnode);\n\n    const color: Color = state.measurementsColors.get(uAnode) as Color;\n    state.measurementsColors.delete(uAnode);\n    measurementsColorStack.push(color);\n  },\n  CLEAR_MEASUREMENTS(state) {\n    state.measurements.clear();\n    state.measurementsColors.clear();\n    measurementsColorStack = brandNewPastelColorStack();\n  },\n  CANCEL_PENDING_CAPTURE(state, {\n    tube,\n    uGrid,\n  }) {\n    // Ran asynchronously\n    state.captureModule.cancelJob(new CaptureJob(tube, uGrid));\n  },\n  REMOVE_CRASHED_CAPTURE(state, {\n    tube,\n    uGrid,\n  }) {\n    state.captureModule.removeCrashReport(new CaptureJob(tube, uGrid));\n  },\n  SET_NOTES(state, newNotes) {\n    state.notes = newNotes;\n  },\n};\n\nexport default mutations;\n","import CaptureJob from '@/CaptureJob';\nimport { ActionTree } from 'vuex';\nimport { Actions } from './action-types';\nimport { State } from './state';\n\nconst actions: ActionTree<State, State> & Actions = {\n  EMPTY_TUBES(context) {\n    context.commit('EMPTY_TUBES', undefined);\n  },\n  ADD_TUBE(context, payload) {\n    context.commit('ADD_TUBE', payload.tube);\n  },\n  REMOVE_TUBE(context, payload) {\n    context.commit('REMOVE_TUBE', payload.tube);\n  },\n  CREATE_TUBE(context, payload) {\n    context.commit('CREATE_TUBE', payload.name);\n  },\n  CREATE_CAPTURE(context, payload) {\n    context.commit('CREATE_CAPTURE', payload);\n  },\n  async CREATE_CAPTURE_ASYNC(context, {\n    tube,\n    uGrid,\n  }) {\n    const result = await context.state.captureModule.doCapture(new CaptureJob(tube, uGrid));\n    // If capture have been canceled, result is null\n    if (result !== null) {\n      context.commit('CREATE_CAPTURE', {\n        tube,\n        uAnode: result.tensionsAnode,\n        uGrid,\n        iCathode: result.currentsCathode,\n      });\n    }\n  },\n  DELETE_CAPTURE(context, payload) {\n    context.commit('DELETE_CAPTURE', payload);\n  },\n  SELECT_CAPTURE_TUBE(context, payload) {\n    context.commit('SELECT_CAPTURE_TUBE', payload);\n  },\n  CHANGE_SMOOTHING_FACTOR(context, payload) {\n    context.commit('CHANGE_SMOOTHING_FACTOR', payload);\n  },\n  ADD_MEASUREMENT(context, payload) {\n    context.commit('ADD_MEASUREMENT', payload.uAnode);\n  },\n  REMOVE_MEASUREMENT(context, payload) {\n    context.commit('REMOVE_MEASUREMENT', payload.uAnode);\n  },\n  CLEAR_MEASUREMENTS(context) {\n    context.commit('CLEAR_MEASUREMENTS', undefined);\n  },\n  CANCEL_PENDING_CAPTURE(context, payload) {\n    context.commit('CANCEL_PENDING_CAPTURE', payload);\n  },\n  REMOVE_CRASHED_CAPTURE(context, payload) {\n    context.commit('REMOVE_CRASHED_CAPTURE', payload);\n  },\n  SET_NOTES(context, payload) {\n    context.commit('SET_NOTES', payload.newNotes);\n  },\n};\n\nexport default actions;\n","import {\n  CommitOptions, createStore, DispatchOptions, Store as VuexStore,\n} from 'vuex';\nimport { State, state } from './state';\nimport { Getters, getters } from './getters';\nimport mutations from './mutations';\nimport actions from './actions';\nimport { Actions } from './action-types';\nimport { Mutations } from './mutation-types';\n\nexport default createStore({\n  state,\n  getters,\n  mutations,\n  actions,\n});\n\nexport type Store = Omit<\nVuexStore<State>,\n'getters' | 'commit' | 'dispatch'\n> & {\n  commit<K extends keyof Mutations, P extends Parameters<Mutations[K]>[1]>(\n    key: K,\n    payload: P,\n    options?: CommitOptions\n  ): ReturnType<Mutations[K]>\n} & {\n  dispatch<K extends keyof Actions>(\n    key: K,\n    payload?: Parameters<Actions[K]>[1],\n    options?: DispatchOptions\n  ): ReturnType<Actions[K]>\n} & {\n  getters: {\n    [K in keyof Getters]: ReturnType<Getters[K]>\n  }\n};\n","import './scss/main.scss';\nimport { createApp } from 'vue';\nimport { Tooltip } from 'bootstrap';\nimport App from './App.vue';\nimport store from './store';\n\nconst app = createApp(App);\n\n// Creates directive v-tooltip\napp.directive('tooltip', {\n  mounted(el) {\n    // eslint-disable-next-line no-new\n    new Tooltip(el);\n  },\n});\n\napp.use(store).mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Tube.vue?vue&type=style&index=0&id=8555e2e6&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SaveLoad.vue?vue&type=style&index=0&id=60679c2d&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Timer.vue?vue&type=style&index=0&id=2335b224&lang=scss&scoped=true\""],"sourceRoot":""}